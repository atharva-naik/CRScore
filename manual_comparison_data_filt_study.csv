id,code_diff,gold_review,sys1 review,sys2 review,sys3 review,choice
3921,"@@ -61,6 +61,14 @@ public abstract class ApiConfig {
     }
   }
 
+  /**
+   * Creates an ApiConfig with no content. Exposed for testing.
+   */
+  public static ApiConfig createDummyApiConfig() {
+    return new AutoValue_ApiConfig(ImmutableMap.<String, InterfaceConfig> builder().build(), null,
+        false);
+  }
+
   private static String getPackageName(ConfigProto configProto) {
     Map<String, LanguageSettingsProto> settingsMap = configProto.getLanguageSettings();
     String language = configProto.getLanguage();","It looks like this is only used in order to extract the snippet file names from GapicProviderFactory. I wonder if it would be better expose the snippet file names directly, without exposing a test-only function in non-test code.",`createDummyApiConfig` -> `createApiConfig`,`createDummyApiConfig` -> `createApiConfig`,Why do we need this method?,
7097,"@@ -194,8 +194,8 @@ public class AzkabanWebServer extends AzkabanServer {
     // TODO remove hack. Move injection to constructor
     executorManager = SERVICE_PROVIDER.getInstance(ExecutorManager.class);
     projectManager = SERVICE_PROVIDER.getInstance(ProjectManager.class);
+    triggerManager = SERVICE_PROVIDER.getInstance(TriggerManager.class);
 
-    triggerManager = loadTriggerManager(props);
     loadBuiltinCheckersAndActions();
 
     // load all trigger agents here","At some point, we would like to get rid of these custom injections as well. Looks Ok for now.",Why do we need to load the trigger manager here?,`loadTriggerManager` calls `loadBuiltinCheckersAndActions` which calls `loadBuiltinCheckersAndActions` which calls `loadTriggerManager` which calls `loadTriggerManager`.,`loadTriggerManager` calls `loadBuiltinCheckersAndActions` which calls `loadTriggerManager` which calls `loadTriggerManager` which calls `loadTriggerManager` which calls `loadTriggerManager` which calls `loadTriggerManager`,
7541,"@@ -195,7 +195,11 @@ function prepareDatabaseForSuite(suite, context) {
     .admin()
     .command({ killAllSessions: [] })
     .catch(err => {
-      if (err.message.match(/no such (cmd|command)/) || err.code === 11601) {
+      if (
+        err.message.match(/no such (cmd|command)/) ||
+        err.message.match(/Failed to kill on some hosts/) ||
+        err.code === 11601
+      ) {
         return;
       }
 ",Is this left over from debugging?,Shouldn't this be `/Failed to kill on some hosts/i`?,`/Failed to kill on some hosts/` => `/Failed to kill on some hosts/`,Shouldn't this be `/Failed to kill on some hosts/`?,
7133,"@@ -28,7 +28,6 @@ import (
 	apis ""github.com/openebs/maya/pkg/apis/openebs.io/v1alpha1""
 	clientset ""github.com/openebs/maya/pkg/client/generated/clientset/versioned""
 	""github.com/openebs/maya/pkg/debug""
-	merrors ""github.com/openebs/maya/pkg/errors/v1alpha1""
 	pkg_errors ""github.com/pkg/errors""
 	corev1 ""k8s.io/api/core/v1""
 	""k8s.io/apimachinery/pkg/api/errors""",change pkg_errors to errors. Keep it consistent across all the files.,@deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @smarterclay,@deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k what do you think?,`pkg_errors` is no longer used.,
5197,"@@ -980,7 +980,7 @@ get_module_handle_64(const wchar_t *name)
 {
     /* Be careful: we can't directly de-ref any ptrs b/c they can be >4GB */
     LDR_MODULE_64 mod;
-    if (!get_ldr_module_64(name, NULL, &mod))
+    if (!get_ldr_module_64(name, 0, &mod))
         return NULL;
     return mod.BaseAddress;
 }","NULL change, could you move that out too?",(style) line over 80 characters,"I don't think this is correct. `get_ldr_module_64(name, 0, &mod);` will return `NULL` if `name` is NULL.","Shouldn't this be `get_ldr_module_64(name, 0, NULL)`?",
907,"@@ -240,6 +240,9 @@ static int config_ini_handler(void *user, const char *section, const char *name,
 		if (strcmp(name, ""xwayland"") == 0) {
 			if (strcasecmp(value, ""true"") == 0) {
 				config->xwayland = true;
+			} else if (strcasecmp(value, ""lazy"") == 0) {
+				config->xwayland = true;
+				config->xwayland_lazy = true;
 			} else if (strcasecmp(value, ""false"") == 0) {
 				config->xwayland = false;
 			} else {","I don't think this should enable xwayland, because it's convenient to toggle xwayland just by setting `xwayland` to `false`","Should this be `config->xwayland_lazy = strcasecmp(value, ""lazy"") == 0`?","This should be `config->xwayland_lazy = strcasecmp(value, ""lazy"") == 0`","Shouldn't this be `config->xwayland_lazy = strcasecmp(value, ""lazy"") == 0`?",
9372,"@@ -52,13 +52,16 @@ class SonataMediaExtension extends Extension
         $loader->load('gaufrette.xml');
         $loader->load('validators.xml');
         $loader->load('serializer.xml');
-        $loader->load('api_form.xml');
-
+        
         $bundles = $container->getParameter('kernel.bundles');
 
         if ('doctrine_orm' == $config['db_driver'] && isset($bundles['FOSRestBundle']) && isset($bundles['NelmioApiDocBundle'])) {
             $loader->load('api_controllers.xml');
         }
+        
+        if (isset($bundles['JMSSerializerBundle'])) {
+            $loader->load('api_form.xml');
+        }
 
         if (isset($bundles['SonataNotificationBundle'])) {
             $loader->load('consumer.xml');",I think `serializer.xml` can be moved into condition below too,Why did you move this line?,Shouldn't this be `if (isset($bundles['JMSSerializerBundle'])) {`?,@wachterjohannes @dunglas @wachterjohannes @wachterjohannes @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @dunglas @wachterjohannes @dunglas @dunglas @dunglas @dunglas @dungl,
8878,"@@ -0,0 +1,11 @@
+class MoveScreencastsIntoProducts < ActiveRecord::Migration
+  def up
+    say_with_time ""Converting screencasts into video_tutorials"" do
+      update ""UPDATE products SET type = 'VideoTutorial' WHERE type = 'Screencast'""
+    end
+  end
+
+  def down
+    raise ActiveRecord::IrreversibleMigration
+  end
+end","We can also drop `plans.includes_screencasts`, right?",This should be `raise ActiveRecord::IrreversibleMigration`,Prefer single-quoted strings when you don't need string interpolation or special symbols.,Prefer single-quoted strings when you don't need string interpolation or special symbols.,
3804,"@@ -48,11 +48,11 @@
 #include <cstdio>
 #include <cstdlib>
 
-typedef Kokkos::DefaultExecutionSpace Device;
-typedef Kokkos::HostSpace::execution_space Host;
+using Device = Kokkos::DefaultExecutionSpace;
+using Host   = Kokkos::HostSpace::execution_space;
 
-typedef Kokkos::TeamPolicy<Device> team_policy;
-typedef team_policy::member_type team_member;
+using team_policy = Kokkos::TeamPolicy<Device>;
+using team_member = team_policy::member_type;
 
 static const int TEAM_SIZE = 16;
 ",I'm kind of surprised this doesn't require `typename`?,This should be `using namespace Kokkos;`,Why not `using Kokkos::TeamPolicy<Device>`?,Why not `using Kokkos::DefaultExecutionSpace = Kokkos::DefaultExecutionSpace`?,
9690,"@@ -1,6 +1,6 @@
 _base_ = [
     '../_base_/models/mask_rcnn_r50_fpn.py',
-    '../_base_/datasets/coco_instance.py',
+    '../_base_/datasets/lvis_v1_instance.py',
     '../_base_/schedules/schedule_2x.py', '../_base_/default_runtime.py'
 ]
 model = dict(",Should not switch to `lvis_v1_instance` here because that base config uses ClassBalancedDataset to oversample the data.,Shouldn't this be `lvis_v2_instance.py`?,lvis_v1_instance.py -> vis_v1_instance.py,lvis_v1_instance.py -> lvis_v1_instance.py,
9024,"@@ -1350,9 +1350,14 @@ class RustGenerator : public BaseGenerator {
         code_ +=
             ""    if self.{{FIELD_TYPE_FIELD_NAME}}_type() == ""
             ""{{U_ELEMENT_ENUM_TYPE}} {"";
-        code_ +=
-            ""      self.{{FIELD_NAME}}().map(|u| ""
-            ""{{U_ELEMENT_TABLE_TYPE}}::init_from_table(u))"";
+        if (!field.required) {
+          code_ +=
+              ""      self.{{FIELD_NAME}}().map(|u| ""
+              ""{{U_ELEMENT_TABLE_TYPE}}::init_from_table(u))"";
+        } else {
+          code_ += ""      let u = self.{{FIELD_NAME}}();"";
+          code_ += ""      Some({{U_ELEMENT_TABLE_TYPE}}::init_from_table(u))"";
+        }
         code_ += ""    } else {"";
         code_ += ""      None"";
         code_ += ""    }"";",Please flip the conditional to be `if (field.required) { ... }`.,Shouldn't this be `if (field.required)`?,Shouldn't this be `u = self.{{FIELD_NAME}}()`?,Shouldn't this be `self.{{FIELD_NAME}}().map(&Some::init_from_table)`?,
4397,"@@ -24,6 +24,10 @@ class PostTest < ActiveSupport::TestCase
     post.must :save
   end
 
+  it ""should sort 'by_unanswered'"" do
+    Post.by_unanswered.must_equal Post.joins(:topic).where(""posts_count = '1'"").order('created_at desc')
+  end
+
   it 'posts should have an associated topic' do
     topic = create(:topic_with_posts)
     topic.posts[0].topic.must_equal topic",Can we create some post records to assert sort_by,Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.,You can use `Post.order('created_at desc')` here.,"I'm not sure if this is the best way to test this, but I'm not sure if there's a better way to test this without using `Post.by_unanswered`",
4703,"@@ -130,9 +130,14 @@ func (c *localCircuitBreaker) checkAndSet() {
 
 // Config represents the configuration of a circuit breaker.
 type Config struct {
+	// The threshold over sliding window that would trip the circuit breaker
 	Threshold float64 `json:""threshold""`
-	Type      string  `json:""type""`
-	TripTime  string  `json:""trip_time""`
+	// Possible values: latency, error_ratio, and status_ratio. It
+	// defaults to latency.
+	Type string `json:""type""`
+	// How long to wait after the circuit is tripped before allowing operations to resume.
+	// The default is 5s.
+	TripTime string `json:""trip_time""`
 }
 
 const (","Thinking on it more, I actually really like your idea to rename `type` to `factor`.",Should this be a `time.Duration`?,`error_ratio` and `status_ratio` don't seem to be used.,"nit: ""over sliding window that would trip the circuit breaker""",
4106,"@@ -353,6 +353,7 @@ void test4() {
   smi = MolToSmiles(*m);
   CHECK_INVARIANT(smi == ""c1cc[cH-]c1"", smi);
   TEST_ASSERT(m->getConformer().is3D() == false);
+  delete m;
 
   BOOST_LOG(rdInfoLog) << "" Finished <---------- "" << std::endl;
 }",We should probably make a unique_ptr<ROMol> typedef in ROMol.h and start using that liberally.,Why not `delete m->getConformer()`?,Why is this needed?,Why do you need to delete the pointer?,
5348,"@@ -130,14 +130,14 @@ func (c *Command) handleActions(line string) {
 
 func (c *Command) connect(argsString string) {
 	if len(argsString) == 0 {
-		info(""Press tab to select identity or create a new one. Connect <your-identity> <node-identity>"")
+		info(""Press tab to select identity or create a new one. Connect <your-id> <provider-id>"")
 		return
 	}
 
 	identities := strings.Fields(argsString)
 
 	if len(identities) != 2 {
-		info(""Please type in the node identity. Connect <your-identity> <node-identity>"")
+		info(""Please type in the provider identity. Connect <your-id> <provider-id>"")
 		return
 	}
 ","Is `<your-id>` really easier to understand than `<your-identity>` for CLI user? For me, `identity` seems like a concept we use publicly, and `id` is just an internal shortcut for it.",I think this should be `<provider-id> <node-id>`,I think this should be `<provider-id>`.,I think this should be `<provider-id> <node-id>`,
6785,"@@ -582,6 +582,7 @@ public class OAuthWebviewHelper implements KeyChainAliasCallback {
                     displayName(accountOptions.displayName).email(accountOptions.email).
                     photoUrl(accountOptions.photoUrl).thumbnailUrl(accountOptions.thumbnailUrl).
                     additionalOauthValues(accountOptions.additionalOauthValues).build();
+            account.downloadProfilePhoto();
             if (id.customAttributes != null) {
                 mgr.getAdminSettingsManager().setPrefs(id.customAttributes, account);
             }",Kick off the download after login.,Why do we need to call `downloadProfilePhoto` here? Shouldn't `photoUrl` be enough?,Why do we need to download the profile photo here?,Shouldn't this be called only if `accountOptions.photoUrl != null`?,
2950,"@@ -386,8 +386,8 @@ func (s *stream) SetDeadline(t time.Time) error {
 }
 
 // CloseRemote makes the stream receive a ""virtual"" FIN stream frame at a given offset
-func (s *stream) CloseRemote(offset protocol.ByteCount) {
-	s.AddStreamFrame(&wire.StreamFrame{FinBit: true, Offset: offset})
+func (s *stream) CloseRemote(offset uint64) {
+	s.AddStreamFrame(&wire.StreamFrame{FinBit: true, Offset: protocol.ByteCount(offset)})
 }
 
 // Cancel is called by session to indicate that an error occurred","The reason a `ByteCount` is used here, is that the H2 mapping in gQUIC requires this layer violation, which is why `CloseRemote` is not part of the public API. This layer violation will be resolved in IETF QUIC",Shouldn't this be `uint64(offset)`?,Why change from `protocol.ByteCount` to `uint64`?,`offset` should be a `uint64` right?,
4038,"@@ -371,10 +371,10 @@ func NewConfig(dc *dynamicconfig.Collection, numberOfShards int, storeType strin
 
 		BlobSizeLimitError:     dc.GetIntPropertyFilteredByNamespace(dynamicconfig.BlobSizeLimitError, 2*1024*1024),
 		BlobSizeLimitWarn:      dc.GetIntPropertyFilteredByNamespace(dynamicconfig.BlobSizeLimitWarn, 512*1024),
-		HistorySizeLimitError:  dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistorySizeLimitError, 200*1024*1024),
-		HistorySizeLimitWarn:   dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistorySizeLimitWarn, 50*1024*1024),
-		HistoryCountLimitError: dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistoryCountLimitError, 200*1024),
-		HistoryCountLimitWarn:  dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistoryCountLimitWarn, 50*1024),
+		HistorySizeLimitError:  dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistorySizeLimitError, 20*1024*1024),
+		HistorySizeLimitWarn:   dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistorySizeLimitWarn, 5*1024*1024),
+		HistoryCountLimitError: dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistoryCountLimitError, 20*1024),
+		HistoryCountLimitWarn:  dc.GetIntPropertyFilteredByNamespace(dynamicconfig.HistoryCountLimitWarn, 5*1024),
 
 		ThrottledLogRPS:   dc.GetIntProperty(dynamicconfig.HistoryThrottledLogRPS, 4),
 		EnableStickyQuery: dc.GetBoolPropertyFnWithNamespaceFilter(dynamicconfig.EnableStickyQuery, true),","change size to 50MB criticial, 10MB warn... change count to 50k critical, 5k warn...",Why are we changing these limits?,Why do we need to change these limits?,Why are we changing these limits?,
6870,"@@ -82,8 +82,8 @@ const (
 	SystemLocalNamespace = ""temporal-system""
 	// SystemNamespaceID is namespace id for all temporal system workflows
 	SystemNamespaceID = ""32049b68-7872-4094-8e63-d0dd59896a83""
-	// SystemNamespaceRetentionDays is retention config for all temporal system workflows
-	SystemNamespaceRetentionDays = time.Hour * 24 * 7
+	// SystemNamespaceRetention is retention config for all temporal system workflows
+	SystemNamespaceRetention = time.Hour * 24 * 7
 )
 
 const (","Wow, did it literally mean the retention days is a huge number?",rename to SystemNamespaceRetentionDays,`SystemNamespaceRetentionDays` -> `SystemNamespaceRetention`,why change this?,
8968,"@@ -77,8 +77,8 @@ public class LocalNewSessionQueuer extends NewSessionQueuer {
   }
 
   @Override
-  public Optional<HttpRequest> remove() {
-    return sessionRequests.poll();
+  public Optional<HttpRequest> remove(RequestId id) {
+    return sessionRequests.poll(id);
   }
 
   @Override",`poll` and `remove` have different meanings.,nit: rename to `poll(RequestId)`?,Shouldn't this be `sessionRequests.remove(id)`?,"nit: `sessionRequests.poll(id, TimeUnit.MILLISECONDS);`",
747,"@@ -729,6 +729,15 @@ func newContextForLongPoll(c *cli.Context) (context.Context, context.CancelFunc)
 	return newContextWithTimeout(c, defaultContextTimeoutForLongPoll)
 }
 
+func newContextForBackground(c *cli.Context) (context.Context, context.CancelFunc) {
+	if c.GlobalIsSet(FlagContextTimeout) {
+		timeout := time.Duration(c.GlobalInt(FlagContextTimeout)) * time.Second
+		return rpc.NewContextWithTimeoutAndCLIHeaders(timeout)
+	}
+
+	return rpc.NewContextWithCLIHeaders()
+}
+
 func newContextWithTimeout(c *cli.Context, timeout time.Duration) (context.Context, context.CancelFunc) {
 	if c.GlobalIsSet(FlagContextTimeout) {
 		timeout = time.Duration(c.GlobalInt(FlagContextTimeout)) * time.Second",Is this getting used in other places? Can we switch all the places to use the new API you added?,`newContextForBackground` is unused (from `deadcode`),`newContextForBackground` is unused (from `deadcode`),`newContextForBackground` is unused (from `deadcode`),
2790,"@@ -0,0 +1,6 @@
+from dagster import job, SourceHashVersionStrategy
+
+
+@job(version_strategy=SourceHashVersionStrategy())
+def the_job():
+    ...",Newline at end of file plz,"This should be `from dagster import job, SourceHashVersionStrategy`",I don't think you need the `...` here.,I think this file should be named `dag_job.py`,
5558,"@@ -6,11 +6,14 @@ from pyramid import httpexceptions
 
 
 class NameGenerator(generators.Generator):
+    regexp = r'^[a-zA-Z0-9][a-zA-Z0-9_-]*$'
+
     def __call__(self):
         ascii_letters = ('abcdefghijklmopqrstuvwxyz'
                          'ABCDEFGHIJKLMOPQRSTUVWXYZ')
-        alphabet = ascii_letters + string.digits + '-'
-        letters = [random.choice(alphabet) for x in range(8)]
+        alphabet = ascii_letters + string.digits + '-_'
+        letters = [random.choice(ascii_letters + string.digits)]
+        letters += [random.choice(alphabet) for x in range(7)]
         return ''.join(letters)
 
 ",So we fix it only for kinto and not for all cliquet resources?,Why is this change necessary?,Shouldn't this be `[a-zA-Z0-9][a-zA-Z0-9_-]`?,I think this should be `re.compile(r'^[a-zA-Z0-9][a-zA-Z0-9_-]*$')`,
244,"@@ -47,6 +47,14 @@ void Engine::SetCallBack(std::function<void(const void *, std::string,
 {
 }
 
+static void engineThrowUp(const std::string &engineType,
+                          const std::string &func)
+{
+    throw std::invalid_argument(
+        ""ERROR: Engine bass class "" + func + ""() called. "" + engineType +
+        "" child class is not implementing this function\n"");
+}
+
 // should these functions throw an exception?
 void Engine::Write(Variable<char> & /*variable*/, const char * /*values*/) {}
 void Engine::Write(Variable<unsigned char> & /*variable*/,",Use `UpperCamelCase` for function names,"`ERROR: Engine bass class "" + func + ""() called. Engine child class is not implementing this function\n""`",`ERROR: Engine bass class ...` -> `ERROR: Engine bass class ...`,"I don't think this is the right place for this function. It should be in the base class, not here.",
1855,"@@ -126,12 +126,14 @@ func (n *NetworkPolicyController) deleteCNP(old interface{}) {
 	n.deleteDereferencedAddressGroups(oldInternalNP)
 }
 
-// reprocessCNP is triggered by Namespace ADD/UPDATE/DELETE events when they impact the
-// per-namespace rules of a CNP.
-func (n *NetworkPolicyController) reprocessCNP(cnp *crdv1alpha1.ClusterNetworkPolicy) {
+// reprocessCNP is triggered when a CNP may be impacted by non-ClusterNetworkPolicy events, including Namespace events
+// (for per-namespace rules) and ClusterGroup events (for ClusterGroup reference).
+func (n *NetworkPolicyController) reprocessCNP(cnp *crdv1alpha1.ClusterNetworkPolicy, enqueueAppliedToGroup bool) {
 	key := internalNetworkPolicyKeyFunc(cnp)
 	n.internalNetworkPolicyMutex.Lock()
 	oldInternalNPObj, exist, _ := n.internalNetworkPolicyStore.Get(key)
+	// The internal NetworkPolicy may haven't been created yet. It's fine to skip processing this CNP as addCNP will
+	// create it eventually.
 	if !exist {
 		klog.V(2).Infof(""Cannot find the original internal NetworkPolicy, skip reprocessCNP"")
 		n.internalNetworkPolicyMutex.Unlock()","Would this be possible: `addCNP` has already processed the CNP to an internalNP, just hasn't added this internalNP to the `internalNetworkPolicyStore`. In this case, `reprocessCNP` will skip processing this CNP and `addCNP` will just add the ""old"" internalNP to `internalNetworkPolicyStore`.","nit: ""may be impacted by ClusterNetworkPolicy events, including Namespace events (for per-namespace rules)""",`enqueueAppliedToGroup` doesn't seem to be used?,"nit: ""may be impacted by non-ClusterNetworkPolicy events, including Namespace events (for per-namespace rules)""",
6340,"@@ -31,6 +31,8 @@ class Section < ActiveRecord::Base
   include ActsAsSortable
   include VersionableModel
 
+  # Sort order: Number ASC
+  default_scope { order(number: :asc) }
 
   # ================
   # = Associations =",  I think this makes a lot of sense but we may want to highlight the change for people doing UAT in case the ordering of sections is off anywhere when customizing or using the drag-drop feature,Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.,This should be `default_scope { order(number: :desc) }`,Layout/AlignHash: Align the elements of a hash literal if they span more than one line.,
8190,"@@ -28,14 +28,14 @@ static void atomic_begin(struct wlr_drm_crtc *crtc, struct atomic *atom) {
 	atom->failed = false;
 }
 
-static bool atomic_end(int drm_fd, struct atomic *atom) {
+static bool atomic_end(int drm_fd, uint32_t flags, struct atomic *atom) {
 	if (atom->failed) {
 		return false;
 	}
 
-	uint32_t flags = DRM_MODE_ATOMIC_TEST_ONLY | DRM_MODE_ATOMIC_NONBLOCK;
+	flags |= DRM_MODE_ATOMIC_TEST_ONLY;
 	if (drmModeAtomicCommit(drm_fd, atom->req, flags, NULL)) {
-		wlr_log_errno(WLR_ERROR, ""Atomic test failed"");
+		wlr_log_errno(WLR_DEBUG, ""Atomic test failed"");
 		drmModeAtomicSetCursor(atom->req, atom->cursor);
 		return false;
 	}",I don't think it makes sense to have both `TEST_ONLY` and `NONBLOCK`. We should probably leave `NONBLOCK` out.,Should this be `flags |= DRM_MODE_ATOMIC_NONBLOCK`?,(style) line over 80 characters,(style) line over 80 characters,
3984,"@@ -393,7 +393,7 @@ func init() {
 	proto.RegisterType((*StatusResponse)(nil), ""bpfki.StatusResponse"")
 }
 
-func init() { proto.RegisterFile(""bpfki.proto"", fileDescriptor_62eed357eb71de0e) }
+func init() { protoregistry.GlobalFiles.RegisterFile(""bpfki.proto"", fileDescriptor_62eed357eb71de0e) }
 
 var fileDescriptor_62eed357eb71de0e = []byte{
 	// 518 bytes of a gzipped FileDescriptorProto",Code generated by protoc-gen-go. **DO NOT EDIT.**. The correct way to fix `deprecated` in this file may be updating the protoc / protobuf / grpc and regenerate this file.,"Shouldn't this be `protoregistry.GlobalFiles.RegisterType(&StatusResponse{}, ""bpfki.StatusResponse"")`?","Shouldn't this be `protoregistry.GlobalFiles.RegisterFile(""bpfki.proto"")`?","I think this should be `protoregistry.GlobalFiles.RegisterType(""bpfki.proto"", ""bpfki"")`",
5543,"@@ -68,7 +68,11 @@ export function createVNode(type, props, key, ref) {
 		_parent: null,
 		_depth: 0,
 		_dom: null,
-		_lastDomChild: null,
+		// _lastDomChildSibling must be initialized to undefined b/c it will eventually
+		// be set to dom.nextSibling which can return `null` and it is important
+		// to be able to distinguish between an uninitialized _lastDomChildSibling and
+		// a _lastDomChildSibling that has been set to `null`
+		_lastDomChildSibling: undefined,
 		_component: null,
 		constructor: undefined
 	};",Thinking out loud... would `_nextDom` be a better name for this?,"I don't think we need to initialize it to `null` here, we can just use `dom.lastChild`",`_lastDomChildSibling` must be initialized to `null` in order to distinguish between an uninitialized _lastDomChildSibling and,"Shouldn't this be `_lastDomChildSibling: null,`?",
2902,"@@ -82,6 +82,10 @@ const (
 	// feature is supported on the server. If any non-empty value is set,
 	// this indicates true.
 	BothResponseErrorHeader = ""Rpc-Both-Response-Error""
+
+	// Echo ServiceHeader in Request header which can be used by clients/HC to
+	// validate request went to the correct service
+	RespondServiceHeader = ""Rpc-Respond-Service-Header""
 )
 
 // Valid values for the Rpc-Status header.","Similar to my suggestion for HTTP, let's remove this and use `ServiceHeader` instead.",Should this be `Rpc-Respond-Request-Header`?,nit: `RespondServiceHeader` => `Rpc-Respond-Service-Header`,Should this be `Rpc-Respond-Request-Header`?,
3585,"@@ -0,0 +1,15 @@
+package com.fsck.k9.service;
+
+
+import java.io.File;
+import java.io.IOException;
+
+import android.net.Uri;
+
+
+public interface FileProviderInterface {
+
+    File createProvidedFile() throws IOException;
+    Uri getUriForProvidedFile(File file, String mimeType) throws IOException;
+
+}",Same here. Feels like the wrong location.,Please add a license header to all new files.,I don't think this interface belongs in the `com.fsck.k9.service` package. It should be in the `com.fsck.k8s` package.,`FileProvider` -> `ProvidedFileProvider`,
1385,"@@ -309,3 +309,13 @@ class Foo:
 
     def method(self):
         print(self.__class__.__ham)
+
+
+class TypeSelfCallInMethod:
+    """"""Regression test for issue 5569""""""
+    @classmethod
+    def b(cls) -> None:
+        cls.__a = ''  # [unused-private-member]
+
+    def a(self):
+        return type(self).__a",Unrelated but shouldn't this raise `attribute-defined-outside-init`?,I think it would be better to use `self.__class__.__a` instead of `cls.__a`.,I think it would be better to use `@classmethod` instead of `classmethod` here.,I don't think you need the `[unused-private-member]` here.,
6770,"@@ -24,8 +24,9 @@ import (
 const (
 	userAgentHeader = ""User-Agent""
 
-	credsTimeout  = 10 * time.Second
-	clientTimeout = 30 * time.Second
+	maxRetriesOnRecoverableFailures = 8 // Default provided by SDK is 3 which means requests are retried up to only 2 seconds.
+	credsTimeout                    = 10 * time.Second
+	clientTimeout                   = 30 * time.Second
 )
 
 // Provider provides methods to create sessions.",Hmm why do we need to make this change? Like which one requires this change?,Can we make this a `const` at the top of the file?,I don't think we should set this to `8`. I think we should set it to `3` by default.,Nit: Can we call this `maxRetriesOnRecoverableFailureInterval` for clarity?,
9242,"@@ -15,11 +15,14 @@ import android.net.Uri;
 import android.provider.MediaStore;
 import android.speech.RecognizerIntent;
 import android.support.annotation.NonNull;
+import android.support.design.widget.Snackbar;
 import android.util.Base64;
 import android.view.View;
 import android.webkit.MimeTypeMap;
+import android.widget.Toast;
 
 import org.fossasia.phimpme.R;
+import org.fossasia.phimpme.accounts.AccountActivity;
 import org.fossasia.phimpme.data.local.AccountDatabase;
 
 import java.io.ByteArrayOutputStream;",I think this import will be unused now. If it is unused remove it.,`Snackbar` is not used in this class.,Shouldn't this be `android.widget.Toast`?,This import is unused.,
9270,"@@ -268,7 +268,7 @@ class StubsGenerator
     /**
      * @return PhpParser\Node\Identifier|PhpParser\Node\Name|PhpParser\Node\NullableType|null
      */
-    public static function getParserTypeFromPsalmType(Type\Union $type)
+    public static function getParserTypeFromPsalmType(Type\Union $type): ?PhpParser\NodeAbstract
     {
         $nullable = $type->isNullable();
 ",I must have forgotten that one in previous PR,The return type should be `?PhpParser\NodeAbstract|null`,The return type is `?PhpParser\NodeAbstract`,`getParserTypeFromPsalmType` should return `?PhpParser\NodeAbstract`,
3088,"@@ -67,9 +67,9 @@ namespace pwiz.Skyline.Model.Results
                 var newTimeIntensities = GetTimeIntensities(Source);
                 if (newTimeIntensities != null)
                 {
-                    if (oldTimeIntensities != null)
+                    if (oldTimeIntensities != null && oldTimeIntensities.NumPoints > 0)
                     {
-                        var oldTime = oldTimeIntensities.Times[ScanIndex];
+                        var oldTime = oldTimeIntensities.Times[Math.Min(ScanIndex, oldTimeIntensities.NumPoints - 1)];
                         ScanIndex = newTimeIntensities.IndexOfNearestTime(oldTime);
                     }
                     else",Not sure what this is. Bad merge?,"`Math.Min(ScanIndex, oldTimeIntensities.NumPoints - 1)` -> `Math.Min(ScanIndex, oldTimeIntensities.Times.Length)`",">oldTimeIntensities.Times[Math.Min(ScanIndex, oldTimeIntensities.NumPoints - 1)]; [](start = 52, length = 45) can oldTimeIntensities.Times be null?","`Math.Min(ScanIndex, oldTimeIntensities.NumPoints - 1)` -> `Math.Min(ScanIndex, oldTimeIntensities.NumPoints - 1)`",
9737,"@@ -32,6 +32,12 @@ func (ih *IntermediateHashes) WillUnloadBranchNode(prefixAsNibbles []byte, nodeH
 	if len(prefixAsNibbles) == 0 || len(prefixAsNibbles)%2 == 1 {
 		return
 	}
+
+	// special case. Store Account.Root for long time
+	if len(prefixAsNibbles) == common.HashLength*2 {
+		return
+	}
+
 	InsertCounter.Inc(1)
 
 	buf := pool.GetBuffer(keyBufferSize)",Should it not be `common.HashLength*2 + common.IncarnationLength` ?,Why do we need to store Account.Root here?,Why do we need this special case?,`len(prefixAsNibbles) == common.HashLength*2`,
2315,"@@ -410,7 +410,7 @@ public class MultiPhraseQuery extends Query {
    * <p>
    * Note: positions are merged during freq()
    */
-  static class UnionPostingsEnum extends PostingsEnum {
+  public static class UnionPostingsEnum extends PostingsEnum {
     /** queue ordered by docid */
     final DocsQueue docsQueue;
     /** cost of this enum: sum of its subs */",This is used in o.a.l.sandbox.search.PhraseWildcardQuery.,why is this public?,Why do we need to make this `public`?,why making this public?,
559,"@@ -52,6 +52,8 @@ var Server = function(requestHandler) {
    *     with the server host when it has fully started.
    */
   this.start = function(opt_port) {
+    assert(typeof opt_port !== 'function',
+           ""start invoked with function, not port (mocha callback)?"");
     var port = opt_port || portprober.findFreePort('localhost');
     return promise.when(port, function(port) {
       return promise.checkedNodeCall(",Maybe it would simpler to ignore opt_port if type !== 'number'?,`typeof opt_port === 'function'`,I think this should be `typeof opt_port === 'function'`.,"I think this should be `assert.ok(typeof opt_port === 'function', 'start invoked with function, not port (mocha callback)?');`",
7003,"@@ -378,6 +378,8 @@ class Engine(object):
         :param filename: file basename to find
         :type filename: str
         """"""
+        if not filename:
+            return None
         filename = os.path.expanduser(filename)
         if os.path.exists(filename):
             return filename","This may change """" into None. Better return filename.",`if not filename or not filename.startswith('/'):`,`if not filename: return None`,`if not filename or not filename.startswith('/')`,
908,"@@ -28,7 +28,6 @@ import (
 	fakeclientset ""k8s.io/client-go/kubernetes/fake""
 	certutil ""k8s.io/client-go/util/cert""
 	""k8s.io/client-go/util/keyutil""
-
 	fakeaggregatorclientset ""k8s.io/kube-aggregator/pkg/client/clientset_generated/clientset/fake""
 )
 ",Remove this line by accident?,nit: remove empty line,@deads2k @deads2k @smarterclayton @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @smarterclayton @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @smarterclayton,nit: remove empty line,
8492,"@@ -10,7 +10,11 @@ declare(strict_types=1);
 namespace Ergonode\Product\Infrastructure\Provider\Strategy;
 
 use Ergonode\Attribute\Domain\Entity\AbstractAttribute;
-use Ergonode\Attribute\Infrastructure\Provider\AttributeValueConstraintStrategyInterface;
+use Ergonode\Attribute\Infrastructure\Provider\ContextAwareAttributeValueConstraintStrategyInterface;
+use Ergonode\EventSourcing\Infrastructure\Manager\EventStoreManagerInterface;
+use Ergonode\Product\Application\Validator\NotTheSameProduct;
+use Ergonode\Product\Domain\Entity\AbstractProduct;
+use Ergonode\SharedKernel\Domain\AggregateId;
 use Symfony\Component\Validator\Constraint;
 use Symfony\Component\Validator\Constraints\Collection;
 use Ergonode\Product\Application\Validator\ProductExists;",adding this constrain for null AggreagateId is redundant,Why do we need EventStoreManagerInterface here?,Why do we need this `ContextAwareAttributeValueConstraintStrategyInterface`?,Missing `use` statement.,
5261,"@@ -825,6 +825,11 @@ void roots_seat_set_focus(struct roots_seat *seat, struct roots_view *view) {
 	view_activate(view, true);
 	seat->has_focus = true;
 
+	// We want to unconditionally send keyboard input to the view we are
+	// focusing here, so cancel any existing grabs.
+	struct wlr_seat_keyboard_grab *curr_grab = seat->seat->keyboard_state.grab;
+	curr_grab->interface->cancel(curr_grab);
+
 	struct wlr_keyboard *keyboard = wlr_seat_get_keyboard(seat->seat);
 	if (keyboard != NULL) {
 		wlr_seat_keyboard_notify_enter(seat->seat, view->wlr_surface,",probably better to use `wlr_seat_keyboard_end_grab()`.,Should this be `curr_grab->interface->activate(curr_grab);`?,I don't think this is the right place to cancel the grab. It should be in `wlr_seat_keyboard_notify_exit`.,I don't think this is the right place to cancel the grab. I think it should be in `wlr_seat_keyboard_notify_exit`.,
596,"@@ -34,6 +34,15 @@ import appModules
 import watchdog
 import extensionPoints
 from fileUtils import getFileVersionInfo
+import shlobj
+from functools import wraps
+
+# Path to the native system32 directory.
+nativeSys32: str = shlobj.SHGetFolderPath(None, shlobj.CSIDL.SYSTEM)
+# Path to the syswow64 directory if it exists on the current system.
+Syswow64Sys32: str = shlobj.SHGetFolderPath(None, shlobj.CSIDL.SYSTEMX86)
+# Do we have separate system32 directories for 32 and 64-bit processes?
+hasSeparateSyswow64: bool = nativeSys32 != Syswow64Sys32
 
 #Dictionary of processID:appModule paires used to hold the currently running modules
 runningTable={}",Could we have this initialization as part of the initialize method?,nit: `hasSeparateSyswow64: bool = nativeSys32 != Syswow64Sys32`,`hasSeparateSyswow64` -> `isSeparateSyswow64`,`hasSeparateSyswow64` -> `isSeparateSyswow64`,
7089,"@@ -79,6 +79,7 @@ class Newsletter extends BaseAction implements EventSubscriberInterface
             $nl->setEmail($event->getEmail())
                 ->setFirstname($event->getFirstname())
                 ->setLastname($event->getLastname())
+                ->setUnsubscribed(0)
                 ->setLocale($event->getLocale())
                 ->save();
 ",->setUnsubscribed(false) would be better :),Shouldn't this be `$event->getUnsubscribed()`?,Why not `->setUnsubscribed(false)`?,Shouldn't this be `$event->getUnsubscribed()`?,
4710,"@@ -277,6 +277,7 @@ class YamlConfig(QObject):
             self._mark_changed()
 
         self._migrate_bool(settings, 'tabs.favicons.show', 'always', 'never')
+        self._migrate_bool(settings, 'scrolling.bar', 'when_searching', 'never')
         self._migrate_bool(settings, 'qt.force_software_rendering',
                            'software-opengl', 'none')
 ","It's been a while, but I just noticed this was wrong: It migrated `True` to `when-searching` (so people with `scrolling.bar = True` suddenly didn't have scrollbars anymore) and `False` to never. Instead, it should migrate `True` to `always` (no behavior change) and `False` to `when-searching` (so people notice the new feature). I fixed this in cc0f5fc6d400e12833ba729049e31d16cf836d53.",`when_searching` -> `scrollbar_searching`,Shouldn't this be `scrolling.bar.show`?,Shouldn't this be `always`?,
7423,"@@ -431,7 +431,7 @@ static void set_client_priority() {
 #ifdef __linux__
     char buf[1024];
     snprintf(buf, sizeof(buf), ""ionice -c 3 -p %d"", getpid());
-    system(buf);
+    if (!system(buf)) {}
 #endif
 }
 ",What's the purpose of this change? It basically changes nothing until we want to put smth between curly braces,"`system(buf)` will return 0 on success, so this should be `if (!system(buf)) {`",Shouldn't this be `if (!system(...)) {`?,"This should be `system(buf, 0);`",
9918,"@@ -7,6 +7,7 @@ import torch.nn as nn
 from mmcv.utils import print_log
 
 from mmdet.core import auto_fp16
+from mmdet.utils import get_root_logger
 
 
 class BaseDetector(nn.Module, metaclass=ABCMeta):",Merge this line with Line7,from mmdet.utils import get_root_logger,"`from mmdet.utils import get_root_logger, print_log`",`get_root_logger` is not used.,
9286,"@@ -142,6 +142,9 @@ func (mh *MessageHandle) OnRegister(connection conn.Connection) {
 
 	if _, ok := mh.KeepaliveChannel[nodeID]; !ok {
 		mh.KeepaliveChannel[nodeID] = make(chan struct{}, 1)
+	} else {
+		klog.Warningf(""Node %v/%v has not yet exit, OnRegister failed"", projectID, nodeID)
+		return
 	}
 
 	io := &hubio.JSONIO{Connection: connection}",has not yet exit?,"`klog.Warningf(""Node %v/%v has not yet exit, OnRegister failed"", projectID, nodeID)`",I don't think this should be a warning. It should be an error.,I don't think this should be a warning. It should be an error.,
6410,"@@ -87,7 +87,7 @@ public class ImagesManageActivity extends BaseActivity {
     private static final int REQUEST_UNSELECT_IMAGE_AFTER_LOGIN = 4;
     public static final int REQUEST_EDIT_IMAGE = 1000;
     private static final int REQUEST_CHOOSE_IMAGE = 1001;
-    private static final List<ProductImageField> TYPE_IMAGE = Arrays.asList(ProductImageField.FRONT, ProductImageField.INGREDIENTS, ProductImageField.NUTRITION);
+    private static final List<ProductImageField> TYPE_IMAGE = Arrays.asList(ProductImageField.FRONT, ProductImageField.INGREDIENTS, ProductImageField.NUTRITION, ProductImageField.PACKAGING);
     private ActivityFullScreenImageBinding binding;
     private OpenFoodAPIClient client;
     private File lastViewedImage;","I would rename the field to IMAGE_TYPES and make it an array. I don't think we need list operations. Also, if possible, I would move the field to the ApiFields class. What do you think?",Would it make sense to have a constant for `ProductImageField.PACKAGING`?,Shouldn't this be `PRODUCT_IMAGE_FIELD_PACKAGING`?,why do we need to add packaging here?,
8278,"@@ -22,6 +22,7 @@ import (
 
 	cloudkms ""cloud.google.com/go/kms/apiv1""
 	""gocloud.dev/gcp""
+	""gocloud.dev/internal/secrets""
 	""google.golang.org/api/option""
 	kmspb ""google.golang.org/genproto/googleapis/cloud/kms/v1""
 )",`localsecrets` should be updated in the same way.,This import should be grouped with other gcp imports.,This import should be grouped with the other `gocloud.dev` imports.,Remove empty line.,
8440,"@@ -0,0 +1,7 @@
+package com.fsck.k9.mail.internet;
+
+public class UnsupportedContentTransferEncodingException extends Exception {
+    public UnsupportedContentTransferEncodingException(String encoding) {
+        super(""Unsupported encoding: ""+encoding);
+    }
+}",Why not make this a subclass of `MessagingException` so we don't need to change all `throws` clause?,`Unsupported content transfer encoding: `,Should this be `UnsupportedCharsetException`?,Missing license header.,
3514,"@@ -182,7 +182,8 @@ func TestSerialiseBlockWitness(t *testing.T) {
 	if err := bwb.WriteTo(&b); err != nil {
 		t.Errorf(""Could not make block witness: %v"", err)
 	}
-	expected := common.FromHex(""0xa76862616c616e6365730065636f64657300666861736865731822646b65797300666e6f6e63657300697374727563747572650b6676616c75657300582023181a62d35fe01562158be610f84e047f99f5e74d896da21682d925964ece3a0601024704010402040304"")
+
+	expected := common.FromHex(""0xa76862616c616e6365730065636f64657300666861736865731822646b65797300666e6f6e63657300697374727563747572650b6676616c756573005820858f70a4b1e6aa71a7edc574d2ca946495a038aa37ce13dc7b7ed15661a6ff2f0601024704010402040304"")
 	if !bytes.Equal(expected, b.Bytes()) {
 		t.Errorf(""Expected %x, got: %x"", expected, b.Bytes())
 	}",Why did this value change?,Why was this test changed? Was it failing before?,Why did you remove the `2023181a62d35fe01562158be610f84e047f99f5e74d896da21682d925964ece3a`?,Why did this change?,
3686,"@@ -447,11 +447,11 @@ func (node *Node) setupStorageMining(ctx context.Context) error {
 		PoStProofType: postProofType,
 		SealProofType: sealProofType,
 		Miner:         minerAddr,
-		WorkerThreads: 1,
+		WorkerThreads: 2,
 		Paths: []fs.PathConfig{
 			{
 				Path:   sectorDir,
-				Cache:  false,
+				Cache:  true,
 				Weight: 1,
 			},
 		},",Sectorbuilder behaves differently depending on whether it's given 1 or more threads. It won't seal if only given 1.,Why do we need to change the worker threads?,Why do we need to change this?,Shouldn't this be `WorkerThreads: 3`?,
9830,"@@ -0,0 +1,10 @@
+package mux
+
+import (
+	""net/http""
+	""net/http/pprof""
+)
+
+func pprofHandlers(httpMux *http.ServeMux) {
+	httpMux.HandleFunc(""/debug/pprof/"", pprof.Index)
+}","let's just fold this inline in mux.go, no need for the indirection to this new file",Should this be `/debug/pprof/`?,Should this be `/debug/pprof/`?,This should be `/debug/pprof/`,
7405,"@@ -243,6 +243,12 @@ class TestLambdaBaseFeatures(unittest.TestCase):
         lambda_client.delete_function(FunctionName=lambda_name)
 
     def test_add_lambda_permission(self):
+        function_name = 'lambda_func-{}'.format(short_uid())
+        testutil.create_lambda_function(
+            handler_file=TEST_LAMBDA_ECHO_FILE,
+            func_name=function_name,
+            runtime=LAMBDA_RUNTIME_PYTHON36
+        )
         iam_client = aws_stack.connect_to_service('iam')
         lambda_client = aws_stack.connect_to_service('lambda')
 ",Can we add an assertion here the policy actually contains both statements created above?,Why do we need to create a lambda function here?,"`testutil.create_lambda_function(handler_file=TEST_LAMBDA_ECHO_FILE, func_name=function_name, runtime=LAMBDA_RUNTIME_PYTHON36)`","Nit: Can we use `testutil.create_lambda_function(handler_file=TEST_LAMBDA_ECHO_FILE, func_name=function_name)` instead?",
3530,"@@ -0,0 +1,18 @@
+package mock
+
+import (
+	""context""
+
+	""github.com/influxdata/flux/dependencies/influxdb""
+)
+
+type MockProvider struct {
+	influxdb.UnimplementedProvider
+	WriterForFn func(ctx context.Context, conf influxdb.Config) (influxdb.Writer, error)
+}
+
+var _ influxdb.Provider = &MockProvider{}
+
+func (m MockProvider) WriterFor(ctx context.Context, conf influxdb.Config) (influxdb.Writer, error) {
+	return m.WriterForFn(ctx, conf)
+}",Can you rename this and the file `InfluxDBProvider` and `influxdb_provider.go` respectively?,Why is this a `MockProvider` and not just a `Provider`?,Does this need to be exported?,nit: `MockProvider` is unused (from `structcheck`),
4282,"@@ -13,6 +13,7 @@ package proxy
 
 import (
 	""crypto/tls""
+	""github.com/mholt/caddy/caddyhttp/httpserver""
 	""io""
 	""net""
 	""net/http""",I feel like goimports would move this import line by the other non-std packages... can you double-check that? Run goimports or set up your editor to run it on save. :+1:,File is not `goimports`-ed (from `goimports`),File is not `goimports`-ed (from `goimports`),This should be `github.com/mholt/caddy/caddyhttp`,
7451,"@@ -578,6 +578,7 @@ func (e *MutableStateImpl) GetActivityScheduledEvent(
 		e.executionState.RunId,
 		ai.ScheduledEventBatchId,
 		ai.ScheduleId,
+		ai.Version,
 		currentBranchToken,
 	)
 	if err != nil {",@wxing1292 to double check this is the right version to use?,Should this be `ai.RunId`?,I think this should be `ai.Version.String()`,Do we need to pass in `ai.Version` here?,
8310,"@@ -9,7 +9,7 @@ import 'webcomponents';
     function onKeyDown(e) {
         // Don't submit form on enter
         // Real (non-emulator) Tizen does nothing on Space
-        if (e.keyCode === 13 || e.keyCode === 32) {
+        if (e.keyCode === 13 || (e.keyCode === 32 && browser.tizen)) {
             e.preventDefault();
 
             if (!this.checked) {",Add `browser` import,Why do we need to check `browser.tizen` here?,`(e.keyCode === 13 || (e.keyCode === 32 && browser.tizen))` is enough.,Why do we need to check browser.tizen here?,
803,"@@ -23,6 +23,7 @@ import (
 const (
 	kbfsRepoDir         = "".kbfs_git""
 	kbfsConfigName      = ""kbfs_config""
+	kbfsConfigNameTemp  = ""._kbfs_config""
 	gitSuffixToIgnore   = "".git""
 	kbfsDeletedReposDir = "".kbfs_deleted_repos""
 )",I'm not sure this naming is a good idea; that's the format for macOS xattr metadata files on unsupported filesystems.,I think this should be `.kbfs_config`?,Why is this temp?,Should this be `.kbfs_config` instead of `.kbfs_config`?,
8427,"@@ -109,6 +109,18 @@ namespace Datadog.Trace.AppSec
 
         internal SecuritySettings Settings => _settings;
 
+        private static void TagSpan(Span span)
+        {
+            // we should only tag service entry span, the first span opened for a
+            // service. For WAF it's safe to assume we always have service entry spans
+            // we'll need to revisit this for RASP.
+            if (span != null)
+            {
+                span.SetMetric(Tags.AppSecEnabled, 1.0);
+                span.SetTag(Tags.RuntimeFamily, TracerConstants.Language);
+            }
+        }
+
         /// <summary>
         /// Frees resouces
         /// </summary>",`Tags.AppSecEnabled` should probably move to `Metrics.AppSecEnabled` I guess?,I don't think it's safe to assume we always have a service entry span. For WAF it's safe to assume we always have a service entry span,I don't think it's safe to assume we always have service entry spans.,I don't think we should be tagging a service entry span if it's not a service span. We should be tagging a span if it's a service span.,
2284,"@@ -464,11 +464,9 @@ func TestNodeCacheGCReal(t *testing.T) {
 
 	childNode1 = nil
 	runtime.GC()
-	_ = <-finalizerChan
+	<-finalizerChan
 
-	if len(ncs.nodes) != 2 {
-		t.Errorf(""Expected %d nodes, got %d"", 2, len(ncs.nodes))
-	}
+	require.Len(t, ncs.nodes, 1)
 
 	// Make sure childNode2 isn't GCed until after this point.
 	func(interface{}) {}(childNode2)",Fixed the test; @strib want to validate that this is okay? Seems to be consistent new GC behavior.,"`require.Len(t, ncs.nodes, 2)`","`require.Len(t, ncs.nodes, 2)`","`require.Len(t, ncs.nodes, 2)`",
4599,"@@ -0,0 +1,5 @@
+// Licensed to the .NET Foundation under one or more agreements.
+// The .NET Foundation licenses this file to you under the MIT license.
+// See the LICENSE file in the project root for more information.
+
+// [assembly: BenchmarkDotNet.Attributes.AspNetCoreBenchmark]",this file can be removed,This file should be removed.,Do we need this file?,Should this be `BenchmarkDotNet.Attributes.AspNetCore`?,
5874,"@@ -120,6 +120,10 @@ func TestEnvironmentConfig(t *testing.T) {
 	additionalLocalRoutesJSON := `[""1.2.3.4/22"",""5.6.7.8/32""]`
 	os.Setenv(""ECS_AWSVPC_ADDITIONAL_LOCAL_ROUTES"", additionalLocalRoutesJSON)
 	defer os.Unsetenv(""ECS_AWSVPC_ADDITIONAL_LOCAL_ROUTES"")
+	os.Setenv(""ECS_ENABLE_CONTAINER_METADATA"", ""true"")
+	os.Setenv(""ECS_HOST_DATA_DIR"", ""/etc/ecs/"")
+	defer os.Unsetenv(""ECS_ENABLE_CONTAINER_METADATA"")
+	defer os.Unsetenv(""ECS_HOST_DATA_DIR"")
 
 	conf, err := environmentConfig()
 	assert.NoError(t, err)",This is not checked below?,"Should this be `defer os.Unsetenv(""ECS_ENABLE_CONTAINER_METADATA"")`?","Should this be `defer os.Unsetenv(""ECS_ENABLE_CONTAINER_METADATA"")`?",I think this should be `/var/lib/ecs`,
8925,"@@ -250,8 +250,15 @@ func (s *nodeServer) attest(
 	attestedData *common.AttestedData, attestedBefore bool) (
 	response *nodeattestor.AttestResponse, err error) {
 
-	// TODO: Pick the right node attestor [#222]
-	nodeAttestor := s.catalog.NodeAttestors()[0]
+	// Pick the right node attestor
+	var nodeAttestor nodeattestor.NodeAttestor
+	for _, a := range s.catalog.NodeAttestors() {
+		mp := s.catalog.Find(a)
+		if mp.Config.PluginName == attestedData.Type {
+			nodeAttestor = a
+			break
+		}
+	}
 
 	attestRequest := &nodeattestor.AttestRequest{
 		AttestedData:   attestedData,",Shouldn't we consider the situation where it doesn't find a plugin?,Why not `mp := s.catalog.Find(a)`?,Why not just use `mp.Config.PluginName`?,Why not use `mp.Config.PluginName` directly?,
8943,"@@ -263,6 +263,13 @@ namespace MvvmCross.Droid.Support.V4
 			{
 				((Android.Support.V4.App.Fragment)fragInfo.CachedFragment).Arguments.Clear();
 				((Android.Support.V4.App.Fragment)fragInfo.CachedFragment).Arguments.PutAll(bundle);
+
+                var childViewModelCache = Mvx.GetSingleton<IMvxChildViewModelCache>();
+                if (childViewModelCache.Exists(fragInfo.CachedFragment.ViewModel.GetType()))
+                {
+                    fragInfo.CachedFragment.ViewModel = childViewModelCache.Get(fragInfo.CachedFragment.ViewModel.GetType());
+                    childViewModelCache.Remove(fragInfo.CachedFragment.ViewModel.GetType());
+                }
 			}
 			else
 			{",Throw `fragInfo.CachedFragment.ViewModel.GetType()` into a variable so it's not evaluated each time.,nit: you can use `GetOrAdd` here,Shouldn't this be `GetOrAdd`?,Shouldn't this be `GetSingleton<IMvxChildViewModelCache>();`?,
10166,"@@ -32,7 +32,9 @@ public class NashornScriptInterpreter implements ScriptInterpreter {
 
     @Override
     public void runScript(String scriptContent, Consumer<Exception> errorCallback) {
-        nashornEngineFactory.createEngine().eval(scriptContent, errorCallback);
+        final NashornEngine engine = nashornEngineFactory.createEngine();
+        engine.eval(""var tr = Packages.org.phoenicis.configuration.localisation.Localisation.tr;"", errorCallback);
+        engine.eval(scriptContent, errorCallback);
     }
 
     @Override",This code should be executed in NashornEngineFactory,"Shouldn't this be `engine.eval(scriptContent, errorCallback);`?","Shouldn't this be `engine.eval(scriptContent, errorCallback);`?","Shouldn't this be `engine.eval(scriptContent, errorCallback);`?",
4941,"@@ -63,11 +63,11 @@ func NewDriverSub() *driverSub {
 	return ds
 }
 
-func (s *driverSub) ReceiveBatch(ctx context.Context) ([]*driver.Message, error) {
+func (s *driverSub) ReceiveBatch(ctx context.Context, maxMessages int) ([]*driver.Message, error) {
 	for {
 		select {
 		case <-s.sem:
-			ms := s.grabQueue()
+			ms := s.grabQueue(maxMessages)
 			if len(ms) != 0 {
 				return ms, nil
 			}",This loop is going to burn CPU if len(s.q) == 0. Maybe a small sleep?,`maxMessages` is unused (from `structcheck`),`maxMessages` is unused (from `structcheck`),`maxMessages` is unused (from `structcheck`),
454,"@@ -21,6 +21,8 @@ namespace AutoRest.Go.TemplateModels
         // (null or empty if the model is not paged).
         public string NextLink;
 
+        public bool PreparerNeeded;
+
         public ModelTemplateModel(CompositeType source)
         {
             this.LoadFrom(source);",Should we default to `true` ?,">PreparerNeeded [](start = 28, length = 17) I don't see this used anywhere?",">PreparerNeeded [](start = 29, length = 19) I don't think we need this anymore, right?",`PreparerNeeded` is not a very descriptive name. Maybe `IsPreparerNeeded`?,
2695,"@@ -36,3 +36,4 @@ ACTIVATE_SALT = 'activate'
 PASSWORD_RESET_SALT = 'reset'
 MAX_LINK_AGE = 60 * 60 * 24 # 24 hours
 CODE_EXP_MINUTES = 10
+TOKEN_EXP_DEFAULT = {'days': 90}",should also be alphabetized or at least grouped and alphabetized within group,I think it would be better to use `DEFAULT_TOKEN_EXP_DAYS` here.,`TOKEN_EXP_DEFAULT` -> `TOKEN_EXP_DAYS`?,This should be `TOKEN_EXP_DAYS`,
5569,"@@ -9,7 +9,7 @@ use Shopsys\FrameworkBundle\Model\Product\Product;
 class UnitRepository
 {
     /**
-     * @var \Doctrine\ORM\EntityRepository
+     * @var \Doctrine\ORM\EntityManagerInterface
      */
     protected $em;
 ",hmmm in docblock of contructor it is EntityManagerInterface....maybe it should be that way.... :confused:,This should be `\Doctrine\ORM\EntityManagerInterface`.,This should be reverted.,should be `\Doctrine\ORM\EntityManagerInterface`,
331,"@@ -8,7 +8,8 @@
 var ip = {},
     net = require('net'),
     extIP = require('external-ip'),
-    plugins = require('../../../plugins/pluginManager.js');
+    plugins = require('../../../plugins/pluginManager.js'),
+    offlineMode = plugins.getConfig(""api"").offline_mode;
 
 /**
  * Function to get the hostname/ip address/url to access dashboard","Here would be the same case you don't need to call `loadConfigs`, but you would need to reread configs using `getConfig` on each getHost function call, not once per file.","`offlineMode = plugins.getConfig(""api"").offline_mode || false;`",`offlineMode` is not a very descriptive name. How about `apiOfflineMode`?,`offlineMode` is not used in this file.,
3281,"@@ -33,7 +33,7 @@ export default Controller.extend(SettingsSaveMixin, {
     }),
 
     iconImageSource: computed('model.icon', function () {
-        return this.get('model.icon') || '';
+        return this.get('model.icon') || '/favicon.ico';
     }),
 
     coverImageSource: computed('model.cover', function () {","So I haven't tested this - but since the icon location is just directly dumped into the img _src_ attribute, won't this cause issues with Ghost blogs in a subdirectory? If I'm misunderstanding what the purpose of the default is then let me know  ",This should be `/favicon.ico/favicon.ico`,Shouldn't it be `favicon.ico` instead of `/favicon.ico`?,This should be `favicon.ico/favicon.ico`,
1054,"@@ -8469,8 +8469,13 @@ defaultdict(<class 'list'>, {'col..., 'col...})]
                 'For argument ""inplace"" expected type bool, received type {}.'
                 .format(type(inplace).__name__))
 
-        sdf = self._sdf.filter(expr)
-        internal = self._internal.copy(sdf=sdf)
+        data_columns = [label[0] for label in self._internal.column_labels]
+        sdf = self._sdf.select(self._internal.index_scols
+                               + [scol.alias(col) for scol, col
+                                  in zip(self._internal.column_scols, data_columns)]) \
+            .filter(expr)
+        internal = self._internal.copy(sdf=sdf,
+                                       column_scols=[scol_for(sdf, col) for col in data_columns])
 
         if inplace:
             self._internal = internal","If we support multi-index column later, we need to rename to fit the pandas' requirement.","`self._internal.index_scols + [scol.alias(col) for scol, col in zip(self._internal.column_scols, data_columns)])`","`sdf.select(self._internal.index_scols + [scol.alias(col) for scol, col in zip(self._internal.column_scols, data_columns)])`","`self._internal.index_scols + [scol.alias(col) for scol, col in zip(self._internal.column_scols, data_columns)]`",
7429,"@@ -56,3 +56,19 @@ func Example() {
 	cfg := snapshot.Value.(MyConfig)
 	_ = cfg
 }
+
+func Example_openVariable() {
+	// OpenVariable creates a *runtimevar.Variable from a URL.
+	// This example watches a variable based on a file-based blob.Bucket with JSON.
+	ctx := context.Background()
+	v, err := runtimevar.OpenVariable(ctx, ""etcd://myvarname?client=my.etcd.server:9999"")
+	if err != nil {
+		log.Fatal(err)
+	}
+
+	snapshot, err := v.Watch(ctx)
+	if err != nil {
+		log.Fatal(err)
+	}
+	_, _ = snapshot, err
+}",Remove the handling here as well.,nit: `Example_watchVariable` would be a better name.,Shouldn't this be `v.Watch(ctx)`?,Why do we need this example?,
6990,"@@ -140,7 +140,8 @@ func TestBuild(t *testing.T) {
 		for _, t := range tests {
 			switch t {
 			case ""atomic.go"":
-				// Not supported due to unaligned atomic accesses.
+				// Requires GCC 11.2.0 or above for interface comparison.
+				// https://github.com/gcc-mirror/gcc/commit/f30dd607669212de135dec1f1d8a93b8954c327c
 
 			case ""reflect.go"":
 				// Reflect tests do not work due to type code issues.",Sidenote: some day we'll drop the avr-gcc and avr-libc dependencies so that this case becomes supported.,`atomic.go` and `reflect.go` are not compatible with GCC 11.2.0 and above.,How about `Requires GCC 11.2.0 or above for interface comparison.`,I'm not sure if this is the right fix. I think it should be `atomic.NewInt32(0)`.,
2216,"@@ -4,7 +4,13 @@
   <div class=""text-box"">
 
     <% if @purchaseable.video_available?(@video) %>
-      <%= render 'watch_video', video: @video, purchase: @purchase %>
+      <div class=""purchase-return-link"">
+        <%=link_to ""Back"", purchase_path(@purchase)%>
+      </div>
+
+      <h3 class=""video-headline"">Watch or Download Video</h3>
+
+      <%= render 'watch_video', video: @video %>
     <% else %>
       <p>This video is not yet available. It will be released on <%= @purchaseable.video_available_on(@video).to_s(:simple) %></p>
     <% end %>",Space after `=`.,This should be `watch_video_return_link`,`Watch or Download Video` -> `Watch or Download Video`,This should be `watch_video_return_link`,
4474,"@@ -219,6 +219,8 @@ describe('Formulas general', () => {
   });
 
   it('should recalculate table after changing cell value (by reference)', () => {
+    let sourceDataReference = null;
+
     const afterChange = jasmine.createSpy();
     const hot = handsontable({
       data: getDataSimpleExampleFormulas(),",Should we even fix this test? IMO it should be refactored to check that values are recalculated after `setSourceDataAtCell` and `setSourceDataAtRowProp` calls. This will be the correct way to alter the data since now and we're not testing this use case.,Why do we need this?,`let sourceDataReference = {};`,`let sourceDataReference = null;`,
3575,"@@ -25,13 +25,18 @@ import (
 	api ""google.golang.org/api/compute/v1""
 )
 
+type platformPkgManagerTuple struct {
+	platform   string
+	pkgManager string
+}
+
 const (
 	packageInstalledString    = ""package is installed""
 	packageNotInstalledString = ""package is not installed""
 )
 
 var (
-	pkgManagers = []string{""apt"", ""yum""}
+	tuples = []platformPkgManagerTuple{{""debian"", ""apt""}, {""centos"", ""yum""}, {""rhel"", ""yum""}}
 )
 
 // vf is the the vertificationFunction that is used in each testSetup during assertion of test case.","I don't see pkgManager used anywhere, is there a reason we need this?",`platformPkgManagerTuple` is unused (from `deadcode`),nit: `platformPkgManagerTuple` is unused (from `deadcode`),nit: `platformPkgManagerTuple` is unused (from `deadcode`),
9660,"@@ -1103,6 +1103,10 @@ func TestApplyEnv_Image_HealthCheck(t *testing.T) {
 	}
 }
 
+func TestApplyEnv_Platform(t *testing.T) {
+	// TODO: Add test for platform in the next PR
+}
+
 func TestApplyEnv_Entrypoint(t *testing.T) {
 	testCases := map[string]struct {
 		inSvc  func(svc *LoadBalancedWebService)",Can we remove this   ?,What is the plan for this TODO?,Please create an issue for this and link it here.,Can you create an issue for this?,
7929,"@@ -20,8 +20,8 @@ CREATE_PROJECT_TABLE = """"""
         `project_number` bigint(20) NOT NULL,
         `project_id` varchar(255) NOT NULL,
         `project_name` varchar(255) DEFAULT NULL,
-        `lifecycle_state` enum('ACTIVE','DELETE_REQUESTED',
-            'DELETE_IN_PROGRESS','DELETED') DEFAULT NULL,
+        `lifecycle_state` enum('LIFECYCLE_STATE_UNSPECIFIED','ACTIVE',
+            'DELETE_REQUESTED','DELETED') NOT NULL,
         `parent_type` varchar(255) DEFAULT NULL,
         `parent_id` varchar(255) DEFAULT NULL,
         `raw_project` json DEFAULT NULL,",nit: It might be worth defining these elsewhere as a python-type?,Shouldn't this be `LIFECYCLE_STATE_ACTIVE`?,`LIFECYCLE_STATE_UNSPECIFIED` -> `LIFECYCLE_STATE_ACTIVE`,`LIFECYCLE_STATE_UNSPECIFIED` -> `LIFECYCLE_STATE_ACTIVE`,
3374,"@@ -37,6 +37,8 @@ type DiskBlockCacheMetadata struct {
 	TriggeredPrefetch bool `codec:""HasPrefetched""`
 	// whether the block's triggered prefetches are complete
 	FinishedPrefetch bool
+	// the last tag with which the block was marked
+	Tag string
 }
 
 // lruEntry is an entry for sorting LRU times",Wouldn't it be more space efficient to make this a `byte` enum or bitfield?,"Should this be a `codec:""Tag""`?","Should this be a `codec:""Tag""`?",Should this be a `map[string]struct{}`?,
10120,"@@ -1,4 +1,5 @@
-// Copyright (c) Microsoft. All rights reserved.
+// Copyright (c) Microsoft Corporation. All rights reserved.
+// Licensed under the MIT license. See LICENSE file in the project root for full license information.
 namespace Microsoft.VisualStudio.TestPlatform.CommunicationUtilities
 {
     using System;",Add space between License and nameapace,nit: `// Licensed under the MIT License. See LICENSE file in the project root for license information.`,This file should be renamed to `Microsoft.VisualStudio.TestPlatform.Common`,nit: remove `. All rights reserved.`,
5795,"@@ -277,7 +277,17 @@ type VolumeAPISpec struct {
 	} `yaml:""metadata""`
 }
 
-// -------------Snapshot Structs ----------
+// SnapshotAPISpec hsolds the config for creating asnapshot of volume
+type SnapshotAPISpec struct {
+	Kind       string `yaml:""kind""`
+	APIVersion string `yaml:""apiVersion""`
+	Metadata   struct {
+		Name string `yaml:""name""`
+	} `yaml:""metadata""`
+	Spec struct {
+		VolumeName string `yaml:""volumeName""`
+	} `yaml:""spec""`
+}
 
 // VolumeSnapshot is volume snapshot object accessible to the user. Upon successful creation of the actual
 // snapshot by the volume provider it is bound to the corresponding VolumeSnapshotData through","Let the Kind, APIVersion & Metadata follow the rules followed by Volume. What is the reason for a change for snapshot struct ?",nit: `SnapshotAPISpec is the config for creating asnapshot of volume`,nit: `hsolds` -> `holds`,"nit: ""hsolds"" -> ""holds""",
2162,"@@ -633,6 +633,12 @@ class GeneralSettingsPanel(SettingsPanel):
 			if globalVars.appArgs.secure:
 				item.Disable()
 			settingsSizerHelper.addItem(item)
+			# Translators: The label of a checkbox in general settings to toggle allowing of usage stats gathering  
+			item=self.allowUsageStatsCheckBox=wx.CheckBox(self,label=_(""Allow the NVDA project to gather NVDA usage statistics""))
+			item.Value=config.conf[""update""][""allowUsageStats""]
+			if globalVars.appArgs.secure:
+				item.Disable()
+			settingsSizerHelper.addItem(item)
 			# Translators: The label of a checkbox in general settings to toggle startup notifications
 			# for a pending NVDA update.
 			item=self.notifyForPendingUpdateCheckBox=wx.CheckBox(self,label=_(""Notify for &pending update on startup""))",I actually think it makes sense to reposition this checkbox after the notifyForPendingUpdateCheckBox. The current order of check boxes is a bit arbitrary now.,"This should be `config.conf[""update""][""allowUsageStats""]`","This should be `config.conf[""update""][""allowUsageStats""]`","This should be `config.conf[""update""][""allowUsageStats""]`",
7112,"@@ -106,6 +106,15 @@ export default class Realm {
         let method = util.createMethod(objectTypes.REALM, 'objects');
         return method.apply(this, [type, ...args]);
     }
+
+    objectForPrimaryKey(type, ...args) {
+        if (typeof type == 'function') {
+            type = objects.typeForConstructor(this[keys.realm], type);
+        }
+
+        let method = util.createMethod(objectTypes.REALM, 'objectForPrimaryKey');
+        return method.apply(this, [type, ...args]);
+    }
 }
 
 // Non-mutating methods:",We could just move the check for function into `typeForConstruction` to make this a one liner every time we need to do this.,`typeof type == 'function'` is always true here.,`typeof type === 'function'`,`typeof type == 'function'`,
2220,"@@ -737,7 +737,7 @@ type MDOps interface {
 	// which may not yet be reflected in the MD if the TLF hasn't been rekeyed since it
 	// entered into a conflicting state.
 	GetLatestHandleForTLF(ctx context.Context, id TlfID) (
-		*BareTlfHandle, error)
+		BareTlfHandle, error)
 }
 
 // KeyOps fetches server-side key halves from the key server.","There wasn't any special reason for this to return a pointer, right?",Why not return a `*BareTlfHandle` here?,Does this need to return a pointer?,Does this need to return a `*BareTlfHandle`?,
4199,"@@ -80,6 +80,7 @@ class Request(testprocess.Line):
 
             '/500-inline': [http.client.INTERNAL_SERVER_ERROR],
         }
+        # pylint: enable=no-member
         for i in range(15):
             path_to_statuses['/redirect/{}'.format(i)] = [http.client.FOUND]
         for suffix in ['', '1', '2', '3', '4', '5', '6']:",Probably also needed for the `http.client.FOUND` below?,`# pylint: disable=no-member` should be removed.,`# pylint: disable=no-member` can be removed.,Why is this needed?,
8454,"@@ -32,7 +32,11 @@ namespace OpenTelemetry.Trace.Export
 
         public override Task ShutdownAsync(CancellationToken cancellationToken)
         {
+#if NET452
+            return Task.FromResult(0);
+#else
             return Task.CompletedTask;
+#endif
         }
     }
 }",This one and the ones below are for shutdowns but if it appears in some method called frequently during the lifetime of the process it should be cached in a static.,Why not just `return Task.CompletedTask;`?,Why not just return Task.CompletedTask?,Why not just return Task.CompletedTask?,
3570,"@@ -22,7 +22,10 @@ DatasetLoader::DatasetLoader(const Config& io_config, const PredictFunction& pre
   label_idx_ = 0;
   weight_idx_ = NO_SPECIFIC;
   group_idx_ = NO_SPECIFIC;
-  SetHeader(filename);
+  if (filename != nullptr && CheckCanLoadFromBin(filename) == """") {
+    // SetHeader should only be called when loading from text file
+    SetHeader(filename);
+  }
   store_raw_ = false;
   if (io_config.linear_tree) {
     store_raw_ = true;","The testing cases are failing because `SetHeader` does not only handle cases where input are from files. It also reads categorical feature indices from the config parameters (see the part outside the `if (filename != nullptr) { ... }`). Skipping `SetHeader` directly here will cause errors when we load data from numpy or pandas arrays (where `filename == nullptr`) and use categorical features. So I think we should move the the check `filename != nullptr && CheckCanLoadFromBin(filename) == """"` into `SetHeader`. That is, we change `if (filename != nullptr) { ... }` into `if (filename != nullptr && CheckCanLoadFromBin(filename) == """") { ... }`","`filename != nullptr && CheckCanLoadFromBin(filename) == """"`","nit: `filename != nullptr && CheckCanLoadFromBin(filename) == """"`",I don't think this check is necessary. `CheckCanLoadFromBin` should only be called when loading a binary file.,
9040,"@@ -246,6 +246,11 @@ def _setSystemConfig(fromPath):
 		if curSourceDir==fromPath:
 			curDestDir=toPath
 		else:
+			if os.path.relpath(curSourceDir,fromPath) == ""addons"":
+				import addonHandler
+				subDirs[:] = [addon.name for addon in addonHandler.getRunningAddons()]
+			else:
+				subDirs[:] = subDirs
 			curDestDir=os.path.join(toPath,os.path.relpath(curSourceDir,fromPath))
 		if not os.path.isdir(curDestDir):
 			os.makedirs(curDestDir)",I don't think this is necessary.,`subDirs[:] = [addon.name for addon in addonHandler.getRunningAddons()]`,`[:] = [addon.name for addon in addonHandler.getRunningAddons()`,`subDirs.append(addon.name for addon in addonHandler.getRunningAddons())`,
10077,"@@ -762,8 +762,7 @@ class CommandLine
                     }
                 }
             }
-
-            if (hasQualifiers)
+            else if (hasQualifiers)
             {
                 sb.AppendLine().Append(""  Actions:"").AppendLine();
 ","Are these mutually exclusive options (parameters vs qualifiers)? If parameters aren't supported, may want to consider throwing an exception for ""hasParameters"". If parameters and qualifiers are both legit options, then maybe change this to `if (hasQualifiers) { ... } if(!hasQualifiers && !hasParameters)`",Why did you change this?,"I don't think this change is correct. We don't want to print ""Actions:"" if there are no qualifiers.",`else` should be on the same line as `}`,
6136,"@@ -55,6 +55,16 @@ func nodeStatus(node *node.AlgorandFullNode) (res v1.NodeStatus, err error) {
 	}, nil
 }
 
+func txEncode(tx transactions.Transaction, ad transactions.ApplyData) (res v1.Transaction, err error) {
+	switch tx.Type {
+	case protocol.PaymentTx:
+		return paymentTxEncode(tx, ad), nil
+	case protocol.KeyRegistrationTx:
+		return keyregTxEncode(tx, ad), nil
+	}
+	return v1.Transaction{}, errors.New(errUnknownTransactionType)
+}
+
 func paymentTxEncode(tx transactions.Transaction, ad transactions.ApplyData) v1.Transaction {
 	payment := v1.PaymentTransactionType{
 		To:           tx.Receiver.String(),",nit : move this into a default clause in the previous switch statement.,"nit: `return v1.Transaction{}, errors.New(errUnknownTransactionType)`",Why not return an error here?,`tx.Type` can be `protocol.PaymentTx` or `protocol.KeyRegistrationTx`,
3375,"@@ -207,13 +207,13 @@ class PostgresTarget(luigi.Target):
         connection.autocommit = True
         cursor = connection.cursor()
         if self.use_db_timestamps:
-            sql = """""" CREATE TABLE {marker_table} (
+            sql = """""" CREATE TABLE IF NOT EXISTS {marker_table} (
                       update_id TEXT PRIMARY KEY,
                       target_table TEXT,
                       inserted TIMESTAMP DEFAULT NOW())
-                """""".format(marker_table=self.marker_table)
+                  """""".format(marker_table=self.marker_table)
         else:
-            sql = """""" CREATE TABLE {marker_table} (
+            sql = """""" CREATE TABLE IF NOT EXISTS {marker_table} (
                       update_id TEXT PRIMARY KEY,
                       target_table TEXT,
                       inserted TIMESTAMP);","Flake8 doesn't like the assignment, but non-use of `e` here. I think we can just remove the try/except here for `cursor.execute(sql)`.",Shouldn't this be `IF EXISTS {marker_table}`?,I think this should be `IF NOT EXISTS {marker_table}`,Why do we need this change?,
10104,"@@ -287,6 +287,18 @@ class Dataset(Element):
         class to each underlying element.
         """"""
         if isinstance(data, DynamicMap):
+            class_name = cls.__name__
+            repr_kdims = 'kdims=%r' % kdims if kdims else None
+            repr_vdims = 'vdims=%r' % vdims if vdims else None
+            repr_kwargs = (', '.join('%s=%r' % (k,v) for k,v in kwargs.items())
+                           if kwargs else None)
+            extras = ', '.join([el for el in [repr_kdims, repr_vdims, repr_kwargs]
+                               if el is not None])
+            extras = ', ' + extras if extras else ''
+            apply_args= 'hv.{class_name}{extras}'.format(class_name=class_name,
+                                                         extras=extras)
+            msg = ""Cannot construct a {class_name} from the supplied object of type DynamicMap. Implicitly creating a DynamicMap of {class_name} objects, but instead please explicitly call .apply({apply_args}) on the supplied DynamicMap.""
+            cls.warning(cls, msg.format(class_name=class_name, apply_args=apply_args))
             return data.apply(cls, per_element=True, kdims=kdims, vdims=vdims, **kwargs)
         else:
             return super(Dataset, cls).__new__(cls)",Shouldn't this be `cls.param.warning`?,nit: space after `=`,nit: space after `=` and before `class_name`,"nit: `el for k, v in kdims, vdims, kwargs.items() if el is not None`",
5438,"@@ -54,7 +54,6 @@ module Selenium
         it 'does not set the chrome.detach capability by default' do
           Driver.new(http_client: http)
 
-          expect(caps['goog:chromeOptions']).to eq({})
           expect(caps['chrome.detach']).to be nil
         end
 ","This spec can be modified, giving you extra strength (Check this fetch key doesn't work and therefore returns `nil`)","`goog:chromeOptions` is now unused, so I removed it.",Why was this removed?,"`goog:chromeOptions` is no longer used in this spec, so I removed it.",
9500,"@@ -36,8 +36,8 @@ import com.salesforce.androidsdk.smartstore.store.QuerySpec;
 import com.salesforce.androidsdk.smartstore.store.QuerySpec.QueryType;
 import com.salesforce.androidsdk.smartstore.store.SmartStore;
 import com.salesforce.androidsdk.smartstore.store.SmartStore.SmartStoreException;
-import com.salesforce.androidsdk.smartstore.store.StoreCursor;
 import com.salesforce.androidsdk.smartstore.store.SoupSpec;
+import com.salesforce.androidsdk.smartstore.store.StoreCursor;
 import com.salesforce.androidsdk.smartstore.ui.SmartStoreInspectorActivity;
 
 import net.sqlcipher.database.SQLiteDatabase;",Took the opportunity to fix the import ordering.,Why is this change needed?,Revert the changes in this file.,`StoreCursor` is not used in this class.,
3520,"@@ -68,6 +68,11 @@ class LocalRepository implements Repository {
         return fetchCategories(categoryDirectories);
     }
 
+    @Override
+    public void delete() {
+        // nothing to do
+    }
+
     private List<CategoryDTO> fetchCategories(File[] categoryDirectories) {
         final List<CategoryDTO> results = new ArrayList<>();
 ",Maybe the empty `delete()` should be implemented as default in the interface.,Why is this needed?,Shouldn't this be `@Override`?,Why do we need to delete categories?,
7265,"@@ -380,8 +380,15 @@ class RemoteConnection(object):
             # Authorization header
             headers[""Authorization""] = ""Basic %s"" % auth
 
-        self._conn.request(method, parsed_url.path, data, headers)
-        resp = self._conn.getresponse()
+        if body and method != 'POST' and method != 'PUT':
+            body = None
+        try:
+          self._conn.request(method, parsed_url.path, body, headers)
+          resp = self._conn.getresponse()
+        except httplib.HTTPException:
+          self._conn.close()
+          raise
+
         statuscode = resp.status
         statusmessage = resp.msg
         LOGGER.debug('%s %s' % (statuscode, statusmessage))",body is being used here for the first time without every being populated. This will error. To run tests do `./go clean test_py` and that will run the Firefox tests,Shouldn't this be `if body is not None`?,`self._conn.close()` should be in the `finally` block.,Shouldn't this be `if body is not None`?,
4198,"@@ -641,7 +641,7 @@ public final class Span implements Serializable { // for Spark and Flink jobs
    */
   public static String normalizeTraceId(String traceId) {
     if (traceId == null) throw new NullPointerException(""traceId == null"");
-    int length = traceId.length();
+    int length = traceId.trim().length();
     if (length == 0) throw new IllegalArgumentException(""traceId is empty"");
     if (length > 32) throw new IllegalArgumentException(""traceId.length > 32"");
     int zeros = validateHexAndReturnZeroPrefix(traceId);",trim has performance impact and this is the lowest level library... seems the trim if occurs should happen in the UI or Query controller instead..,why not `traceId.trim().length()`?,Why not `traceId.trim(StandardCharsets.UTF_8)`?,Why do we need to trim here?,
7961,"@@ -50,7 +50,9 @@ const (
 	pendingDeltasFlushThreshold = 128
 	// trieRebuildAccountChunkSize defines the number of accounts that would get read at a single chunk
 	// before added to the trie during trie construction
-	trieRebuildAccountChunkSize = 512
+	trieRebuildAccountChunkSize = 16384
+	// trieRebuildCommitFrequency defines the number of accounts that would get added before we call evict to commit the changes and adjust the memory cache.
+	trieRebuildCommitFrequency = 65536
 	// trieAccumulatedChangesFlush defines the number of pending changes that would be applied to the merkle trie before
 	// we attempt to commit them to disk while writing a batch of rounds balances to disk.
 	trieAccumulatedChangesFlush = 256",What is the reason for increasing this?,"`trieRebuildAccountChunkSize` and `trieRebuildCommitFrequency` are only used in one place, can they be moved to `config`?",Is there a reason for this change?,why 16384? why not 512?,
936,"@@ -288,10 +288,11 @@ define(['apphost', 'globalize', 'connectionManager', 'itemHelper', 'appRouter',
                 icon: 'album'
             });
         }
-
-        if (options.openArtist !== false && item.ArtistItems && item.ArtistItems.length) {
+        // Show Album Artist by default, as a song can have multiple artists, which specific one would this option refer to?
+        // Although some albums can have multiple artists, it's not as common as songs.
+        if (options.openArtist !== false && item.AlbumArtists && item.AlbumArtists.length) {
             commands.push({
-                name: globalize.translate('ViewArtist'),
+                name: globalize.translate('ViewAlbumArtist'),
                 id: 'artist',
                 icon: 'person'
             });","I think ""View artist"" is a bit more standard and expected. Or even ""Go to artist"" to take the Spotify terminology as-is.","> Album Artist can have multiple artists, which specific one would this option refer to?",`which specific one would this option refer to` -> `which one would refer to`,`which specific one would this option refer to` -> `which specific albums`,
7320,"@@ -641,6 +641,15 @@ class Plan < ActiveRecord::Base
     User.joins(:roles).where('roles.plan_id = ? AND roles.access IN (?)', self.id, vals).first
   end
 
+  ##
+  # returns the shared roles of a plan, excluding the creator
+  def shared
+    role_values = Role.access_values_for(:commenter)
+                      .concat(Role.access_values_for(:editor))
+                      .concat(Role.access_values_for(:administrator)).uniq! - Role.access_values_for(:creator)
+    Role.where(plan: self, access: role_values)
+  end
+
   ##
   # the owner and co-owners of the project
   #","If you want to express ""any role that is not creator"" you could use the following statement: Role.where(plan: self).where(Role.not_creator_condition).any? which would be less verbose and a bit more efficient if it is used for Yes/No shared?",Redundant `self` detected.,Redundant `self` detected.,Layout/EmptyLinesAroundMethodBody: Extra empty line detected at method body beginning.,
7427,"@@ -26,7 +26,8 @@ buildStyle = os.environ['BUILD_STYLE']
 
 # Build the configure command.
 configureCmd = os.path.join(buildSystemDir, 'contrib', 'configure.py')
-configureCmd += ' --mode=%s' % buildStyle
+# configureCmd += ' --mode=%s' % buildStyle
+configureCmd += ' --mode=release'
 configureCmd += ' --builddir=%s' % buildDir
 
 print 'Running command:', configureCmd",Please just remove this line. We have the git history if we want the old version.,I think this should be `--mode=build`?,Is this intentional?,I think this should be `--build-type=Release`,
2372,"@@ -62,6 +62,11 @@ func (a *Publisher) Start(ctx context.Context) error {
 }
 
 func (a *Publisher) receive(ctx context.Context, event cloudevents.Event, resp *cloudevents.EventResponse) error {
+	// Upgrade to supported transport version.
+	if event.SpecVersion() != cloudevents.VersionV03 {
+		event.Context = event.Context.AsV03()
+	}
+
 	if _, r, err := a.outbound.Send(ctx, event); err != nil {
 		return err
 	} else if r != nil {","Just to make sure, this is totally lossless? If I put a v2 there, then it gets upgraded to v3, but my function expects v2, then this is fine and nothing is lost?",I think this should be `event.Context = event.Context.AsV4()`,"I think this should be `event.Context = event.Context.With(cloudevents.VersionV03, event.SpecVersion())`",Shouldn't this be `event.Context = event.Context.WithVersion(cloudevents.VersionV03)`?,
5565,"@@ -110,8 +110,8 @@ func getNewPassword(gopts GlobalOptions) (string, error) {
 	newopts.password = """"
 
 	return ReadPasswordTwice(newopts,
-		""enter password for new key: "",
-		""enter password again: "")
+		""enter password (new): "",
+		""enter password (again): "")
 }
 
 func addKey(gopts GlobalOptions, repo *repository.Repository) error {","What about ""enter new password""? That would be a bit more consistent to the `ReadPasswordTwice` usage in cmd_init.","""enter password (again) for new key""?","""enter password (again) for new key""",`for new key` -> `for new key`,
8245,"@@ -57,11 +57,10 @@ module Selenium
               is_relative = Regexp.last_match(1).strip == '1'
             when /^Path=(.+)$/
               path = Regexp.last_match(1).strip
+              p = path_for(name, is_relative, path)
+              @profile_paths[name] = p if p
             end
           end
-
-          p = path_for(name, is_relative, path)
-          @profile_paths[name] = p if p
         end
 
         def path_for(name, is_relative, path)",Moving this code inside the last case statement doesn't seem right. Why are we defining `name` and `is_relative` variables there if we aren't using them anywhere?,Style/GuardClause: Use a guard clause instead of wrapping the code inside a conditional expression.,Layout/EmptyLinesAroundMethodBody: Extra empty line detected at method body end.,`@profile_paths[name] = p if p` can be moved inside the `when` block,
2852,"@@ -126,6 +126,7 @@ static int skip_file_check = 0;
 
 static int cache_mode = 1;
 
+static int json_input = 0;
 static int jx_input = 0;
 static char *jx_context = NULL;
 ","If these variables are only used in main function, move these to the beginning of that function. If there is a foreseeable reason to have them as global statics just let me know.",Shouldn't this be `1` instead of `0`?,(style) do not initialise statics to 0,(style) do not initialise statics to 0,
8973,"@@ -104,10 +104,14 @@ public class UserPreferences {
     public static final String PREF_ENABLE_AUTODL_WIFI_FILTER = ""prefEnableAutoDownloadWifiFilter"";
     private static final String PREF_AUTODL_SELECTED_NETWORKS = ""prefAutodownloadSelectedNetworks"";
     private static final String PREF_PROXY_TYPE = ""prefProxyType"";
-    private static final String PREF_PROXY_HOST = ""prefProxyHost"";
-    private static final String PREF_PROXY_PORT = ""prefProxyPort"";
-    private static final String PREF_PROXY_USER = ""prefProxyUser"";
-    private static final String PREF_PROXY_PASSWORD = ""prefProxyPassword"";
+    private static final String PREF_HTTP_PROXY_HOST = ""prefHttpProxyHost"";
+    private static final String PREF_HTTP_PROXY_PORT = ""prefHttpProxyPort"";
+    private static final String PREF_HTTP_PROXY_USER = ""prefHttpProxyUser"";
+    private static final String PREF_HTTP_PROXY_PASSWORD = ""prefHttpProxyPassword"";
+    private static final String PREF_SOCKS_PROXY_HOST = ""prefSocksProxyHost"";
+    private static final String PREF_SOCKS_PROXY_PORT = ""prefSocksProxyPort"";
+    private static final String PREF_SOCKS_PROXY_USER = ""prefSocksProxyUser"";
+    private static final String PREF_SOCKS_PROXY_PASSWORD = ""prefSocksProxyPassword"";
 
     // Services
     private static final String PREF_GPODNET_NOTIFICATIONS = ""pref_gpodnet_notifications"";","Is it really necessary to store them in a new setting? I think it should be enough to store the credentials in `ProxyConfig.direct()`. Then AntennaPod does not need to store multiple different proxy settings. Also, it will not change existing users' settings (currently the proxy settings would be lost on upgrade).",Should be `prefHttpsProxyHost` and `prefHttpsProxyPort`,`prefHttpProxyUser` and `prefHttpProxyPassword` should be renamed to `prefHttpsProxyUser` and `prefHttpsProxyPassword`,I think it would be better to call this prefHttpsProxyHost and prefHttpsProxyPort rather than prefHttpProxy...,
7982,"@@ -112,6 +112,7 @@ function TransactionBuilder(opts) {
   if (opts.fee || opts.feeSat) {
     this.givenFeeSat = opts.fee ? opts.fee * util.COIN : opts.feeSat;
   }
+  if (opts.fee == 0 || opts.feeSat == 0) this.givenFeeSat = 0;
   this.remainderOut = opts.remainderOut;
   this.signhash = opts.signhash || Transaction.SIGHASH_ALL;
 ",if (typeof (opts.fee) !== 'undefined' || typeof (opts.feeSat) !=='undefined') {,`if (opts.fee || opts.feeSat == 0) this.givenFeeSat = 0;`,`this.givenFeeSat = opts.fee ? opts.fee * util.COIN : 0;`,`if (opts.fee || opts.feeSat == 0) this.givenFeeSat = 0;`,
4697,"@@ -10,9 +10,8 @@ from listenbrainz.listenstore import ListenStore
 
 class RedisListenStore(ListenStore):
 
-    RECENT_LISTENS_KEY = ""lb_recent_listens""
-    RECENT_LISTENS_MAX = 100
-    RECENT_LISTENS_MAX_TIME_DIFFERENCE = 300
+    RECENT_LISTENS_KEY = ""lb_recent_sorted""
+    RECENT_LISTENS_MAX = 100 
 
     def __init__(self, log, conf):
         super(RedisListenStore, self).__init__(log)","I changed the name of the key, to make deployment easier.",Why remove the `RECENT_LISTENS_MAX_TIME_DIFFERENCE`?,I think this should be `lb_recent_sorted_listens`,Why do we need to change this?,
8246,"@@ -290,9 +290,16 @@ func (at *addrTable) getAddrTable(key string) *serviceTable {
 // filterResourceType implement filter. Proxy cares ""Service"" and ""ServiceList"" type
 func filterResourceType(msg model.Message) []v1.Service {
 	svcs := make([]v1.Service, 0)
-	content, ok := msg.Content.([]byte)
-	if !ok {
-		return svcs
+	var content []byte
+	var err error
+	switch msg.Content.(type) {
+	case []byte:
+		content = msg.GetContent().([]byte)
+	default:
+		content, err = json.Marshal(msg.GetContent())
+		if err != nil {
+			klog.Errorf(""marshal message to edgemesh failed, err: %v"", err)
+		}
 	}
 	switch getReourceType(msg.GetResource()) {
 	case constants.ResourceTypeService:",Will cause any bugs without this change? I've seen this code block(L293-302) many times... ;-),Why do we need to marshal here?,@deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k what do you think?,Why not use `msg.GetContent()` directly?,
6704,"@@ -236,6 +236,10 @@ MESSAGE
             end
 
             sh.cmd 'unformatted=`dartfmt -n .`'
+            # If `dartfmt` fails for some reason
+            sh.if '$? -ne 0' do
+              sh.failure """"
+            end
             sh.if '! -z ""$unformatted""' do
               sh.echo ""Files are unformatted:"", ansi: :red
               sh.echo ""$unformatted""",I'd love to trim the content of `unformatted` too. Any ideas?,"This should be `sh.failure ""dartfmt failed for some reason"" unless $? -ne 0`","This should be `sh.cmd 'dartfmt -n .'` instead of `sh.failure """"`",Should this be `dartfmt -ne 0` instead of `$? -ne 0`?,
9532,"@@ -24,6 +24,7 @@ import org.openqa.selenium.WebDriver;
 import org.openqa.selenium.WebElement;
 
 import java.io.IOException;
+import java.io.UncheckedIOException;
 import java.net.URL;
 import java.nio.charset.StandardCharsets;
 import java.util.ArrayList;",Can you please revert changes to files in the `thoughtworks` package? This is legacy code and we will eventually phase out RC.,`java.io.UncheckedIOException` is not used.,Why is this needed?,This should be `java.nio.charset.StandardCharsets`,
3553,"@@ -0,0 +1,8 @@
+class TwitterPlayerCardsController < ApplicationController
+  layout false
+
+  def show
+    response.headers.delete(""X-Frame-Options"")
+    @video = Video.find(params[:video_id])
+  end
+end",Could the name of this controller just be shortened to `TwitterCardsController`? Is the `Player` there adding information?,You can use `@video = Video.find(params[:video_id])` here.,Layout/EmptyLinesAroundClassBody: Extra empty line detected at class body beginning.,Use nested module/class definitions instead of compact style.,
2844,"@@ -136,6 +136,18 @@ module Bolt
       end
       private :expand_targets
 
+      def remove_target(current_group, target, desired_group)
+        if current_group.name == desired_group
+          current_group.remove_target(target)
+        end
+        current_group.groups.each do |child_group|
+          # If target was in current group, remove it from all child groups
+          desired_group = child_group.name if current_group.name == desired_group
+          remove_target(child_group, target, desired_group)
+        end
+      end
+      private :remove_target
+
       def add_target(current_group, target, desired_group)
         if current_group.name == desired_group
           current_group.add_target(target)","This looks like it will only work for the first child, since after that we've overridden `desired_group`. Should we have a separate variable for this?",Layout/EmptyLinesAroundClassBody: Extra empty line detected at class body end.,Should this be `desired_group = child_group.name if current_group.name == desired_group`?,Layout/EmptyLinesAroundMethodBody: Extra empty line detected at method body end.,
8342,"@@ -307,7 +307,10 @@ public class MicroserviceRegisterTask extends AbstractRegisterTask {
 
       // Currently nothing to do but print a warning
       LOGGER.warn(""There are schemas only existing in service center: {}, which means there are interfaces changed. ""
-          + ""It's recommended to increment microservice version before deploying."", scSchemaMap.keySet());
+              + ""It's recommended to increment microservice version before deploying."",
+          scSchemaMap.keySet());
+      LOGGER.warn(""ATTENTION: The schemas in new version are less than the old version, ""
+          + ""which may cause compatibility problems."");
     }
   }
 ","I think this warning message is the same as above one. Anyway, it's fine to keep it.","""older than the old version, which may cause compatibility problems.""","""older than the old version, which may cause compatibility problems.""","`+ ""which may cause compatibility problems. The schemas in new version are less than the old version, "" + ""which may cause compatibility problems.""`",
8674,"@@ -890,7 +890,9 @@ public enum WidgetInfo
 	SECOND_TRADING_WITH_MY_ITEMS(WidgetID.PLAYER_TRADE_CONFIRM_GROUP_ID, WidgetID.TradeScreen.SECOND_MY_ITEMS),
 	SECOND_TRADING_WITH_THEIR_ITEMS(WidgetID.PLAYER_TRADE_CONFIRM_GROUP_ID, WidgetID.TradeScreen.SECOND_THEIR_ITEMS),
 
-	GAUNTLET_TIMER_CONTAINER(WidgetID.GAUNTLET_TIMER_GROUP_ID, WidgetID.GauntletTimer.CONTAINER);
+	GAUNTLET_TIMER_CONTAINER(WidgetID.GAUNTLET_TIMER_GROUP_ID, WidgetID.GauntletTimer.CONTAINER),
+	GAUNTLET_MAP(WidgetID.GAUNTLET_MAP_GROUP_ID, WidgetID.GauntletMap.CONTAINER),
+	;
 
 	private final int groupId;
 	private final int childId;",remove the extra comma and newline,The `;` should be on a new line.,Remove this extra semicolon,Shouldn't this be `GAUNTLET_MAP_GROUP_ID`?,
9039,"@@ -5,7 +5,7 @@ setResolver(resolver);
 
 /* jshint ignore:start */
 mocha.setup({
-    timeout: 15000,
+    timeout: 25000,
     slow: 500
 });
 /* jshint ignore:end */",Were you having trouble with timeouts in general acceptance tests or only the editor test? It's possible to set timeouts on a per-test basis by using `this.timeout(25000)` within the `it()` function. I'd like to drop the global timeout in the future if possible rather than increase it - in some circumstances a failing test can have a knock-on effect which makes all later tests timeout so Travis can get hung up for a long time if no one notices and cancels the build.,Why did you change this? I think it's better to keep it as `15000`.,Why was this changed?,Why is this timeout increased?,
161,"@@ -92,7 +92,7 @@ evaluation=10.0 - ((float(5 * error + warning + refactor + convention) / stateme
 
 # Template used to display messages. This is a python new-style format string
 # used to format the message information. See doc for all details
-#msg-template=
+msg-template=[{msg_id}] {path}:{line:3d}:{column}: {msg}
 
 
 [SPELLING]","Will this mess up parsing the messages by other editors? (vscode, vim ...)",`msg-template=[{msg_id}] {path}:{line:3d}:{column}: {msg} [SPELLING]`,Line is too long. [82/80],E501 line too long (117 > 115 characters),
3043,"@@ -44,15 +44,17 @@
 
 #include <Kokkos_Core.hpp>
 #include <Kokkos_Timer.hpp>
-#include <bench.hpp>
 #include <cstdlib>
 
+template <class T>
+void run_stride_unroll(int, int, int, int, int, int, int, int);
+
 int main(int argc, char* argv[]) {
   Kokkos::initialize();
 
   if (argc < 10) {
     printf(""Arguments: N K R D U F T S\n"");
-    printf(""  P:   Precision (1==float, 2==double)\n"");
+    printf(""  P:   Precision (1==float, 2==double, 3==int32_t, 4==int64_t)\n"");
     printf(""  N,K: dimensions of the 2D array to allocate\n"");
     printf(""  R:   how often to loop through the K dimension with each team\n"");
     printf(""  D:   distance between loaded elements (stride)\n"");",No. Keep the header include and do `extern template ...` to skip the instantiation from that compile unit. (I pushed a fix directly to your branch),Why did you remove the Bench header?,(style) code indent should use tabs where possible,Why did you remove `bench.hpp`?,
6852,"@@ -493,7 +493,7 @@ public class HttpSolrCall {
     }
     if (statusCode == AuthorizationResponse.FORBIDDEN.statusCode) {
       if (log.isDebugEnabled()) {
-        log.debug(""UNAUTHORIZED auth header {} context : {}, msg: {}"", req.getHeader(""Authorization""), context, authResponse.getMessage()); // logOk
+        log.debug(""UNAUTHORIZED auth header {} context : {}, msg: {}"", req.getHeader(""Authorization""), context, authResponse.getMessage()); // nowarn
       }
       sendError(statusCode,
           ""Unauthorized request, Response code: "" + statusCode);",What does our source validation complain about here? Many of the logok/nowarn places look fine to me at a glance but I'm no match for the logging policeman ;-),`nowarn` should be `logWarn`,`nowarn` should be `logWarn`,`nowarn` -> `debug`,
7258,"@@ -55,7 +55,8 @@ func AdminAddOrUpdateRemoteCluster(c *cli.Context) {
 	defer cancel()
 
 	_, err := adminClient.AddOrUpdateRemoteCluster(ctx, &adminservice.AddOrUpdateRemoteClusterRequest{
-		FrontendAddress: getRequiredOption(c, FlagFrontendAddressWithAlias),
+		FrontendAddress:               c.String(FlagFrontendAddressWithAlias),
+		EnableRemoteClusterConnection: c.BoolT(FlagConnectionEnableAlias),
 	})
 	if err != nil {
 		ErrorAndExit(""Operation AddOrUpdateRemoteCluster failed."", err)",this should be required,`EnableRemoteClusterConnection` -> `EnableRemoteClusterConnection`,Shouldn't this be `FlagConnectionEnableAlias`?,Shouldn't this be `c.Bool(FlagConnectionEnableAlias)`?,
3690,"@@ -271,7 +271,7 @@ public class SparkTableUtil {
    * @param metricsConfig a metrics conf
    * @return a List of DataFile
    */
-  public static List<DataFile> listPartition(Map<String, String> partition, String uri, String format,
+  public static List<DataFile> listPartition(Map<String, String> partition, URI uri, String format,
                                              PartitionSpec spec, Configuration conf, MetricsConfig metricsConfig) {
     if (format.contains(""avro"")) {
       return listAvroPartition(partition, uri, spec, conf);",I'd like to avoid changing this method since it is public and using a URI will probably change behavior for users passing strings (String -> URI -> Path instead of String -> Path).,`String format` should be changed to `URI`.,why change the type from String to URI?,Shouldn't this be `URI` instead of `String`?,
4417,"@@ -459,7 +459,7 @@ func (s *clientIntegrationSuite) TestClientDataConverter_WithChild() {
 
 	// to ensure custom data converter is used, this number might be different if client changed.
 	d := dc.(*testDataConverter)
-	s.Equal(3, d.NumOfCallToPayloads)
+	s.Equal(2, d.NumOfCallToPayloads)
 	s.Equal(2, d.NumOfCallFromPayloads)
 }
 ","In older SDK versions the data converter was called 3 times but now it is 2. This is because logic was changed deep in the interceptor chains on when values are serialized and encoded and such. Previously we invoked the data converter on results _even if there was an error_ (and most of the time they were nil). Now we don't do such a thing, resulting in fewer calls.",why change this?,why change this?,"`NumOfCallToPayloads` should be 3 now, right?",
165,"@@ -66,16 +66,16 @@ import java.util.Set;
  * the current node) may be queried.
  *
  */
-class DigraphNode implements Cloneable, Serializable {
+class DigraphNode<E> implements Cloneable, Serializable {
 
     /** The data associated with this node. */
-    protected Object data;
+    protected E data;
 
     /**
      * A <code>Set</code> of neighboring nodes pointed to by this
      * node.
      */
-    protected Set outNodes = new HashSet();
+    protected Set<DigraphNode<E>> outNodes = new HashSet<>();
 
     /** The in-degree of the node. */
     protected int inDegree = 0;",This set of changes is the one part of this that I'm not completely sure is valid. Can someone look over this to make sure I got the E's right?,Why not `Set<DigraphNode<E>>`?,Why not `Set<DigraphNode<E>>`?,Why not `Set<DigraphNode<?>>`?,
9849,"@@ -73,7 +73,7 @@ class TestJSONLD(AnnotationTestCase):
                 ""comment"": 1}
         a = API.add_annotation(model='annotation_note', **data)
 
-        # JSONAlchemy issue with overwritting fields
+        # JSONAlchemy issue with overwriting fields
         self.assert_(len(a.validate()) == 0)
 
         ld = a.get_jsonld(""oaf"",",1:D100: Docstring missing 35:D101: Docstring missing 37:D102: Docstring missing 42:D101: Docstring missing 44:D102: Docstring missing 57:D102: Docstring missing 66:D101: Docstring missing 69:D102: Docstring missing,"""overwriting"" -> ""overwriting""",`overwriting` -> `overwriting`,Please don't make unrelated cosmetic changes.,
1751,"@@ -147,7 +147,7 @@ func (r *Reconciler) reconcilePullSubscription(ctx context.Context, source *v1al
 			logging.FromContext(ctx).Desugar().Error(""Failed to get PullSubscription"", zap.Error(err))
 			return nil, fmt.Errorf(""failed to get PullSubscription: %w"", err)
 		}
-		newPS := resources.MakePullSubscription(source.Namespace, source.Name, &source.Spec.PubSubSpec, source, source.Spec.Topic, r.receiveAdapterName, resourceGroup)
+		newPS := resources.MakePullSubscription(source.Namespace, source.Name, &source.Spec.PubSubSpec, source, source.Spec.Topic, r.receiveAdapterName, """", resourceGroup)
 		logging.FromContext(ctx).Desugar().Debug(""Creating PullSubscription"", zap.Any(""ps"", newPS))
 		ps, err = r.RunClientSet.PubsubV1alpha1().PullSubscriptions(newPS.Namespace).Create(newPS)
 		if err != nil {","what is that `""""`, the adapterType? can you add `"""" /* adapterType */`... in other places as well... might be cleaner if it's a pointer or some varargs at the end but don't have any strong preference..",What is the purpose of this change?,@deads2k @smarterclayton @deads2k @deads2k @deads2k @deads2k @deads2k @smarterclayton @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k @deads2k what do you think?,"Why is the `""""` needed here?",
7211,"@@ -143,7 +143,9 @@ struct _hiprtcProgram {
     {
         using namespace std;
 
-        name = hip_impl::demangle(name.c_str());
+        char* demangled = hip_impl::demangle(name.c_str());
+        name.assign(demangled == nullptr ? """" : demangled);
+        free(demangled);
 
         if (name.empty()) return name;
 ",Please remove it or remove all `std::` namespace prefixes.,"`name.assign(demangled == nullptr ? """" : demangled);`","`name.assign(demangled == nullptr ? """" : demangled);`","`demangled == nullptr ? """" : demangled`",
6689,"@@ -42,6 +42,14 @@ public interface RepositoryManager {
      */
     ScriptDTO getScript(List<String> path);
 
+    /**
+     * This method returns the {@link org.phoenicis.repository.dto.ScriptDTO} with the given ID
+     *
+     * @param id The script ID
+     * @return The found ScriptDTO
+     */
+    ScriptDTO getScript(String id);
+
     /**
      * This method moves the repository, belonging to the given repository url, to the given index.
      * This is done by swapping the current content at the given index with old index of the given repository url",Do you plan to remove the `ScriptDTO getScript(List<String> path);` method long-term?,I think this should be `getScript(String scriptId)`,This method returns the {@link ScriptDTO} with the given ID.,Shouldn't this be `getScript(String scriptId)`?,
9328,"@@ -145,6 +145,11 @@ class DocstringParameterChecker(BaseChecker):
             ""useless-type-doc"",
             ""Please remove the ignored parameter type documentation."",
         ),
+        ""W9021"": (
+            'Missing any documentation in ""%s""',
+            ""missing-any-param-doc"",
+            ""Please add parameter and/or type documentation."",
+        ),
     }
 
     options = (","We could add an old names here, the ideal would be to not force to disable missing-any-param when the old one was already disabled. But they are not really equivalent so maybe you were right to not add it.","This should be ""Please add parameter and/or type documentation.""",Should this be `W9022`?,"""Please add parameter and/or type documentation."" -> ""Please add parameter and/or type documentation.""",
3349,"@@ -43,8 +43,9 @@ type RequestDrivenWebServiceProps struct {
 
 // AppRunnerInstanceConfig contains the instance configuration properties for an App Runner service.
 type AppRunnerInstanceConfig struct {
-	CPU    *int `yaml:""cpu""`
-	Memory *int `yaml:""memory""`
+	CPU      *int   `yaml:""cpu""`
+	Memory   *int   `yaml:""memory""`
+	Platform string `yaml:""platform,omitempty""`
 }
 
 // NewRequestDrivenWebService creates a new Request-Driven Web Service manifest with default values.","I worry that having `Platform` as `string` instead of `*string` would result in it getting overriden with `""""` if the environment manifest config doesn't specify `platform`   . If it gets overridden as `""""`, that could be a problem for users that are not using `linux/amd64` right? If this indeed is a potential impact, could we double check in `ApplyEnv`'s unit test? Same with the `Platform` in `TaskConfig`. Sorry for not seeing this in my previous review!!!  ",Do we need to add `omitempty` here?,Does this need to be a pointer?,"Should this be `platform` instead of `platform,omitempty`?",
4359,"@@ -252,6 +252,7 @@ type Config struct {
 	DebugSimulateCalcGraphHangAfter time.Duration `config:""seconds;0""`
 	DebugSimulateDataplaneHangAfter time.Duration `config:""seconds;0""`
 	DebugPanicAfter                 time.Duration `config:""seconds;0""`
+	DebugSimulateDataRace           bool          `config:""bool;false""`
 
 	// Configure where Felix gets its routing information.
 	// - workloadIPs: use workload endpoints to construct routes.","Are all fields beginning with ""Debug"" automatically `;local` ? (I guess so, but just checking.)",Why do we need this?,Why is this enabled by default?,"`DebugSimulateDataplaneHangAfter`, `DebugPanicAfter`, and `DebugSimulateDataRace` need to be mutually exclusive.",
9479,"@@ -3,7 +3,7 @@ import { both, gt } from 'ramda';
 import isNumber from './isNumber';
 
 /**
- * Checks if value is a negative `Number` primitive or object.
+ * Checks if value is a negative `Number` primitive or object. Zero is not considered negative.
  *
  * @func isNegative
  * @memberOf RA",Checks if value is a negative `Number` primitive or object. Zero is considered neither positive nor negative.,I think it would be better to say that `NaN` is not considered negative.,Nit: Zero is not considered negative.,"Nit: ""zero is not considered negative"" -> ""zero is not allowed to be negative""",
5039,"@@ -894,7 +894,7 @@ module RSpec
       # @private
       RANDOM_ORDERING = lambda do |list|
         Kernel.srand RSpec.configuration.seed
-        ordering = list.sort_by { Kernel.rand(list.size) }
+        ordering = list.shuffle
         Kernel.srand # reset random generation
         ordering
       end",Will this obey the seed set on Kernel?,`list.sort_by { Kernel.rand(list.size) }` is equivalent to `list.sort_by(&:size)`,Why do we need to change this?,`list.sort_by { |x| Kernel.rand(x.size) }` is equivalent to `list.sort_by(&:rand)`,
7762,"@@ -144,7 +144,7 @@ public class DataFilesTable extends BaseMetadataTable {
     @Override
     public CloseableIterable<StructLike> rows() {
       return CloseableIterable.transform(
-          ManifestFiles.read(manifest, io).project(schema),
+          ManifestFiles.read(manifest, io, null, null).project(schema),
           file -> (GenericDataFile) file);
     }
 ","Could we keep the original signatures as well, so we do not have to rewrite the method calls everywhere and add `null, null`? I think this could greatly reduce the changes needed in this patch",I don't think we should be passing `null` here.,"I don't think we should be passing `null` here. We should be able to get rid of `ManifestFiles.read(manifest, io).project(schema)` altogether.",Why are these `null`s needed?,
55,"@@ -0,0 +1,18 @@
+'use strict';
+
+const assert = require('assert');
+
+class ProvidedPromise {
+  set Promise(lib) {
+    assert.ok(typeof lib === 'function', `mongodb.Promise must be a function, got ${lib}`);
+    this._promise = lib;
+  }
+  get Promise() {
+    return this._promise;
+  }
+}
+
+const provided = new ProvidedPromise();
+provided.Promise = global.Promise;
+
+module.exports = provided;","to reiterate my point above, this class is not the actual provided Promise, but rather something a user can provide a Promise to/with. I think a name like `PromiseProvider` is more appropriate.","`assert.ok(typeof lib === 'function', 'mongodb.Promise must be a function, got ${lib}`",Why is this needed?,"`assert.ok(typeof lib === 'function', ...)`",
441,"@@ -34,6 +34,7 @@ class LoadProjectsCloudsqlPipeline(base_pipeline.BasePipeline):
     """"""Pipeline to load project CloudSql data into Inventory.""""""
 
     PROJECTS_RESOURCE_NAME = 'project_iam_policies'
+    RESOURCE_NAME = 'cloudsql'
     RESOURCE_NAME_INSTANCES = 'cloudsql_instances'
     RESOURCE_NAME_IPADDRESSES = 'cloudsql_ipaddresses'
     RESOURCE_NAME_AUTHORIZEDNETWORKS = (  # pylint: disable=invalid-name","As a long term thing, would it make sense to move the resource names as keys under the requirements map?",I think this should be `cloudsql_pipeline`,This should be `cloudsql_pipeline`,`PROJECTS_RESOURCE_NAME = 'cloudsql_projects'`,
9059,"@@ -103,7 +103,7 @@ public abstract class AbstractRestInvocation {
     @SuppressWarnings(""unchecked"")
     Map<String, String> cseContext =
         JsonUtils.readValue(strCseContext.getBytes(StandardCharsets.UTF_8), Map.class);
-    invocation.setContext(cseContext);
+    invocation.addContext(cseContext);
   }
 
   public String getContext(String key) {","highway have the same problem we can add a new method in invocation: mergeContext 1.if new context have more items, then addAll to new context, and replace old context 2.if new context have less items, then allAll to old context directly.","Shouldn't this be `addContext(Map<String, String>)`?","Shouldn't this be `setContext(invocation, cseContext)`?",Shouldn't this be `invocation.getContext()`?,
7730,"@@ -23,9 +23,9 @@ class PlansController < ApplicationController
     # Get all of the available funders and non-funder orgs
     @funders = Org.funder
                   .joins(:templates)
-                  .where(templates: { published: true }).uniq.sort(&:name)
+                  .where(templates: { published: true }).uniq.sort_by(&:name)
     @orgs = (Org.organisation + Org.institution + Org.managing_orgs).flatten
-                                                                    .uniq.sort(&:name)
+                                                                    .uniq.sort_by(&:name)
 
     # Get the current user's org
     @default_org = current_user.org if @orgs.include?(current_user.org)",How much difference is there between sort and sort_by ?,Align the operands of an expression in an assignment spanning multiple lines.,"Place the . on the previous line, together with the method call receiver.<br>Align the operands of an expression in an assignment spanning multiple lines.",Align `uniq` with `.joins(:templates)`.<br>Space inside } missing.,
5937,"@@ -278,7 +278,7 @@ public abstract class AbstractNode implements Node {
 
         for (int i = 0; i < node.jjtGetNumChildren(); i++) {
             Node child = node.jjtGetChild(i);
-            if (child.getClass() == targetType) {
+            if (targetType.isAssignableFrom(child.getClass())) {
                 results.add(targetType.cast(child));
             }
 ",this change should be described in the changelog. I'll update it when merging if nothing else arises.,Why not `targetType.isAssignableFrom(child.getClass())`?,Isn't `targetType` already an instance of `Class`?,Shouldn't this be `instanceof` instead of `isAssignableFrom`?,
9241,"@@ -22,7 +22,8 @@
 package com.github.javaparser.resolution.types;
 
 import java.util.*;
-import java.util.stream.Collectors;
+
+import static java.util.stream.Collectors.joining;
 
 /**
  * A union type is defined in java as list of types separates by pipes.",Is order really irrelevant here?,Why not `import static`?,Why static import?,This import should not be necessary.,
10001,"@@ -77,7 +77,7 @@ class RolesController < ApplicationController
       # rubocop:disable LineLength
       render json: {
         code: 1,
-        msg: _(""Successfully changed the permissions for #{@role.user.email}. They have been notified via email."")
+        msg: _(""Successfully changed the permissions for %{email}. They have been notified via email."") % { email: @role.user.email }
       }
       # rubocop:enable LineLength
     else",interpolation here was causing the translation to not get picked up,Metrics/LineLength: Line is too long. [122/120],Prefer single-quoted strings when you don't need string interpolation or special symbols.,`%{email}` should be `{email: @role.user.email}`,
6127,"@@ -31,7 +31,7 @@ namespace Nethermind.JsonRpc.Modules.Eth.GasPrice
     {
         private readonly IBlockFinder _blockFinder;
         private readonly UInt256 _minGasPrice;
-        public UInt256 FallbackGasPrice => LastGasPrice ?? _minGasPrice;
+        public UInt256 FallbackGasPrice(in UInt256? baseFeePerGas = null) => LastGasPrice ?? GetMinimumGasPrice(baseFeePerGas ?? UInt256.Zero);
         private ISpecProvider SpecProvider { get; }
         public UInt256? LastGasPrice { get; set; }
         public Block? LastHeadBlock { get; set; }","In general, what is the reason for the fallback price to be public? If it is public, why does it take baseFeePerGas instead of a block header?",Shouldn't this be `_minGasPrice` instead of `baseFeePerGas`?,Shouldn't this be `_minGasPrice` instead of `baseFeePerGas`?,`GetMinimumGasPrice(in UInt256? baseFeePerGas = null)` -> `GetMinimumGasPrice(in UInt256? baseFeePerGas)`,
8568,"@@ -48,15 +48,15 @@ namespace Datadog.Trace.ClrProfiler.AutoInstrumentation.AWS.SQS
 
             var requestProxy = request.DuckCast<ISendMessageBatchRequest>();
 
-            var scope = AwsSqsCommon.CreateScope(Tracer.Instance, Operation, out AwsSqsTags tags);
+            var scope = AwsSqsCommon.CreateScope(Tracer.InternalInstance, Operation, out AwsSqsTags tags);
             tags.QueueUrl = requestProxy.QueueUrl;
 
-            if (scope?.Span?.Context != null && requestProxy.Entries.Count > 0)
+            if (scope?.Span.Context is SpanContext spanContext && requestProxy.Entries.Count > 0)
             {
                 for (int i = 0; i < requestProxy.Entries.Count; i++)
                 {
                     var entry = requestProxy.Entries[i].DuckCast<IContainsMessageAttributes>();
-                    ContextPropagation.InjectHeadersIntoMessage<TSendMessageBatchRequest>(entry, scope?.Span?.Context);
+                    ContextPropagation.InjectHeadersIntoMessage<TSendMessageBatchRequest>(entry, spanContext);
                 }
             }
 ","Can't Span cannot be null anymore? I assume it was a useless check as there are discrepencies within integrations, but as you explicitly removed this one, I was wondering",Why is this change needed?,Shouldn't this be `InternalInstance`?,Why are we using `InternalInstance` here?,
8948,"@@ -51,6 +51,7 @@ module Bolt
           command_options = []
           # Need to be interactive if redirecting STDIN
           command_options << '--interactive' unless options[:stdin].nil?
+          command_options << '--tty' if options[:tty]
           command_options.concat(envs) unless envs.empty?
           command_options << container_id
           command_options.concat(command)",@glennsarti you want to validate this on Windows? IIRC this won't work,Should this be `unless options[:stdin].nil? && options[:tty]`?,Should this be `unless options[:stdin].nil? && options[:tty].nil?`,Should this be `unless options[:stdin].nil? && options[:tty]`?,
5779,"@@ -52,8 +52,15 @@ func (c *Client) uploadAction(target *core.BuildTarget, isTest, isRun bool) (*pb
 	return command, digest, err
 }
 
-// buildAction creates a build action for a target and returns the command and the action digest digest. No uploading is done.
+// buildAction creates a build action for a target and returns the command and the action digest. No uploading is done.
 func (c *Client) buildAction(target *core.BuildTarget, isTest, stamp bool) (*pb.Command, *pb.Digest, error) {
+	c.buildActionMutex.Lock()
+	defer c.buildActionMutex.Unlock()
+
+	if d, ok := c.buildActions[target.Label]; ok {
+		return d.command, d.actionDigest, nil
+	}
+
 	inputRoot, err := c.uploadInputs(nil, target, isTest)
 	if err != nil {
 		return nil, nil, err",I think you need to be careful to honour isTest and stamp here.,"`buildAction` is only called from a single goroutine, so there's no need to use a mutex here.",I don't think this lock is necessary. The `Client.buildActions` map is thread-safe.,Does this need to be a read lock?,
8171,"@@ -26,6 +26,8 @@ var CONNECTED = 'connected';
 var DESTROYING = 'destroying';
 var DESTROYED = 'destroyed';
 
+const CONNECTION_EVENTS = ['error', 'close', 'timeout', 'parseError', 'connect', 'message'];
+
 var _id = 0;
 
 /**",nit: `Set` (and swap `forEach`s for `for (const i of CONNECTION_EVENTS)`),Nit: `const` should be at the top of the file.,"nit: `const CONNECTION_EVENTS = ['error', 'close', ...`",Why not `const`?,
1304,"@@ -1522,3 +1522,19 @@ def get_iterating_dictionary_name(
         return node.iter.as_string()
 
     return None
+
+
+def get_subscript_const_value(node: astroid.Subscript) -> astroid.Const:
+    """"""
+    Returns the value (subscript.slice) of a Subscript node,
+    also supports python <3.9 windows where node.slice might be an Index
+    node
+    """"""
+    value = node.slice
+    if isinstance(value, astroid.Index):
+        value = value.value
+    inferred = safe_infer(value)
+    if not isinstance(inferred, astroid.Const):
+        raise ValueError(""Subscript.slice cannot be inferred as an astroid.Const"")
+
+    return inferred",Does it make sense to change that to a custom error instead of `ValueError`?,I don't think this is the right place for this function. It should be in `subscript.py`.,I think this should be `safe_infer(value)` instead of `safe_infer(value.value)`,I think it would be better to move this function to `astroid/core/utils.py` since it's only used there.,
7257,"@@ -376,7 +376,7 @@ def test_set_env_from_file(config_instance):
 
 
 def test_set_env_from_file_returns_original_env_when_env_file_not_found(
-    config_instance
+    config_instance,
 ):
     env = config.set_env_from_file({}, 'file-not-found')
 ",And how is that related?,Why the comma here?,`config_instance` -> `config_instance_with_env`,"The `,` should be on the next line.",
8293,"@@ -87,6 +87,16 @@ def df_type_check(_, value):
         success=True,
         metadata_entries=[
             EventMetadataEntry.text(str(len(value)), 'row_count', 'Number of rows in DataFrame'),
+            EventMetadataEntry.text(str(value.shape), ""shape"", ""The shape of the DataFrame.""),
+            EventMetadataEntry.md(
+                value.dtypes.to_markdown(), ""dtypes"", ""The dtypes within the DataFrame.""
+            ),
+            EventMetadataEntry.md(
+                dataframe.head().to_markdown(), ""head"", ""A preview of the first 5 rows.""
+            ),
+            EventMetadataEntry.md(
+                dataframe.tail().to_markdown(), ""tail"", ""A preview of the last 5 rows.""
+            ),
             # string cast columns since they may be things like datetime
             EventMetadataEntry.json({'columns': list(map(str, value.columns))}, 'metadata'),
         ],",I don't think this works. The dataframe object is encapsulated in the value parameter. This might be the root of the failing checks.,I think this should be `value.dtypes` instead of `value.dtypes.to_markdown()`,nit: `A preview of the first 5 rows in the DataFrame.`,I don't think we should include `dtypes` in the `EventMetadataEntry`. I think we should include it in the `EventMetadataEntry.md` as well.,
5205,"@@ -105,7 +105,7 @@ export function initDebug() {
 					`\n\n${getOwnerStack(vnode)}`
 			);
 		} else if (type != null && typeof type === 'object') {
-			if (type._lastDomChild !== undefined && type._dom !== undefined) {
+			if (type._lastDomChildSibling !== undefined && type._dom !== undefined) {
 				throw new Error(
 					`Invalid type passed to createElement(): ${type}\n\n` +
 						'Did you accidentally pass a JSX literal as JSX twice?\n\n' +",Hmm I think I might've messed up this condition here... Need to look more at it,`_lastDomChildSibling` -> `_lastDomChildSibling`,Shouldn't this be `type._lastDomChildSibling !== null`?,`_lastDomChildSibling` should be `_lastDomChildChild`.,
5960,"@@ -79,12 +79,10 @@ func (bs *blockSyncer) P2P() network.Overlay {
 // Start starts a block syncer
 func (bs *blockSyncer) Start(ctx context.Context) error {
 	logger.Debug().Msg(""Starting block syncer"")
-	startHeight, err := findSyncStartHeight(bs.bc)
-	if err != nil {
-		return err
-	}
-	bs.buf.startHeight = startHeight
-	bs.buf.confirmedHeight = startHeight - 1
+	// FIXME this node may still has issue, if it was following the wrong chain, this is actually a general version of 2, but in 3, we need to rollback blockchain first
+	bs.buf.startHeight = bs.bc.TipHeight() + 1
+	bs.buf.confirmedHeight = bs.bc.TipHeight()
+
 	return bs.worker.Start(ctx)
 }
 ",line is 165 characters,I'm not sure if this is the right place to rollback the blockchain. I think it should be in `bs.bc.Start()`,why +1 and not -1?,`bs.buf.confirmedHeight = bs.bc.GetHeight() + 1`,
6116,"@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
 ##
 ## This file is part of Invenio.
-## Copyright (C) 2011, 2012 CERN.
+## Copyright (C) 2011, 2012, 2013, 2014 CERN.
 ##
 ## Invenio is free software; you can redistribute it and/or
 ## modify it under the terms of the GNU General Public License as","1: D400 First line should end with '.', not 'd' 4: I102 copyright year is outdated, expected 2014 but got 2012 25:29: E126 continuation line over-indented for hanging indent 31: D103 Docstring missing 40: D103 Docstring missing 57: D103 Docstring missing 68: D103 Docstring missing 101: D103 Docstring missing 115: D401 First line should be imperative: 'Call', not 'Calls' 115: D400 First line should end with '.', not 't' 134: D400 First line should end with '.', not 'e' 134: D205 Blank line missing between one-line summary and description","Copyright (C) 2011, 2012-2013, 2013, 2014 CERN","Copyright (C) 2014-2019, Invenio, Inc.","`2014, 2013, 2014` -> `2014, 2013, 2013`",
9764,"@@ -296,7 +296,7 @@ abstract class BaseTableScan implements TableScan {
       }
       requiredFieldIds.addAll(selectedIds);
 
-      return TypeUtil.select(schema, requiredFieldIds);
+      return TypeUtil.project(schema, requiredFieldIds);
 
     } else if (context.projectedSchema() != null) {
       return context.projectedSchema();",I agree with this because it is the opposite of `GetProjectedIds` used above.,I think `TypeUtil.select` and `TypeUtil.project` should be renamed to `TypeUtil.selectAndProject` and `TypeUtil.project`.,I think this should be `TypeUtil.select`,"Shouldn't this be `TypeUtil.project(schema, requiredFieldIds);`?",
2494,"@@ -0,0 +1,12 @@
+package testutils
+
+import (
+	""os""
+	""path""
+)
+
+func TestDataFile(name string) string {
+	dir, _ := os.Getwd()
+
+	return path.Join(dir, ""testdata"", name)
+}","Would it make sense to create an empty file here, perhaps in a tmp dir, instead of checking empty files into Git?",Please check the error.,Should we check the error here?,`TestDataDir` is a better name.,
4754,"@@ -24,8 +24,9 @@ import (
 
 var defaultRFC2136Port = ""53""
 
-// This function make a valid nameserver as per RFC2136
+// This function returns a valid nameserver (in the form <host>:<port>) for the RFC2136 provider
 func ValidNameserver(nameserver string) (string, error) {
+	nameserver = strings.TrimSpace(nameserver)
 
 	if nameserver == """" {
 		return """", fmt.Errorf(""RFC2136 nameserver missing"")","Instead of having this logic, would it make sense to require *users* to encompass the specified IPv6 address within `[` and `]`? Why the magic handling here?",Why are we trimming whitespace here?,Why not just `nameserver = strings.TrimSpace(nameserver)`?,Shouldn't this be `nameserver = strings.TrimSpace(nameserver)`?,
1943,"@@ -329,6 +329,15 @@ func (e *ETCD) join(ctx context.Context, clientAccessInfo *clientaccess.Info) er
 	}
 
 	for _, member := range members.Members {
+		memberNodeName := strings.Split(member.Name, ""-"")[0]
+		if memberNodeName == e.config.ServerNodeName {
+			// make sure to remove the name file if a duplicate node name is used
+			nameFile := nameFile(e.config)
+			if err := os.Remove(nameFile); err != nil {
+				return err
+			}
+			return errors.New(""Failed to join etcd cluster due to duplicate node names, please use unique node name for the server"")
+		}
 		for _, peer := range member.PeerURLs {
 			u, err := url.Parse(peer)
 			if err != nil {",How will this code behave with hostnames that contain hyphens?,"`Failed to join etcd cluster due to duplicate node names, please use unique node name for the server`",why not use `member.Name` directly?,why not use `member.Name` directly?,
5611,"@@ -0,0 +1,7 @@
+import json
+
+
+def lambda_handler(event, context):
+    # Just print the event was passed to lambda
+    print('{}'.format(json.dumps(event)))
+    return 0","Can we rename this file to `lambda_echo.py`, to be more descriptive and in line with the other files in this directory? (all files in this folder are lambda functions, after all)",Please add a license header to this file.,`lambda_handler` doesn't seem to be used anywhere.,Please use `logger.info` instead of `print`,
2619,"@@ -549,10 +549,14 @@ void Mob::SetInvisible(uint8 state)
 	invisible = state;
 	SendAppearancePacket(AT_Invis, invisible);
 	// Invis and hide breaks charms
-
 	auto formerpet = GetPet();
-	if (formerpet && formerpet->GetPetType() == petCharmed && (invisible || hidden || improved_hidden))
-		formerpet->BuffFadeByEffect(SE_Charm);
+	if (formerpet && formerpet->GetPetType() == petCharmed && (invisible || hidden || improved_hidden || invisible_animals || invisible_undead)) {
+		if (RuleB(Pets, LivelikeBreakCharmOnInvis) || (!RuleB(Pets, LivelikeBreakCharmOnInvis) && IsInvisible(formerpet))) {
+			formerpet->BuffFadeByEffect(SE_Charm);
+		}
+
+		LogRules(""Pets:LivelikeBreakCharmOnInvis for [{}] | Invis [{}] - Hidden [{}] - Shroud of Stealth [{}] - IVA [{}] - IVU [{}]"", GetCleanName(), invisible, hidden, improved_hidden, invisible_animals, invisible_undead);
+	}
 }
 
 //check to see if `this` is invisible to `other`","Just combining the inner if/else blocks like this is what I originally meant (I didn't mean replacing all the invisible checks in the outer if, I realize that would have been a functionality change regarding the rule) This should now be equivalent to `if (RuleB(Pets, LivelikeBreakCharmOnInvis) || IsInvisible(formerpet))` (the second check for the rule being false after the `||` would be implied, anything after the `||` would only be evaluated if the rule was false)",invisible_animals and invisible_undead don't seem to be used?,"`!RuleB(Pets, LivelikeBreakCharmOnInvis)` -> `RuleB(Pets, LivelikeBreakCharmOnInvis)`",`invisible || hidden || improved_hidden || invisible_animals || invisible_undead` -> `invisible || hidden || improved_hidden || invisible_animals || invisible_undead`,
8017,"@@ -152,6 +152,14 @@ class StartButton(IAccessible):
 		states = super(StartButton, self).states
 		states.discard(controlTypes.STATE_SELECTED)
 		return states
+		
+class UIProperty(UIA):
+	#Used for columns in Windows Explorer Details view.
+	#These can contain dates that include unwanted left-to-right and right-to-left indicator characters.
+	
+	def _get_value(self):
+		value = super(UIProperty, self).value
+		return value.replace(u'\u200E','').replace(u'\u200F','')
 
 
 class AppModule(appModuleHandler.AppModule):","Might as well use translate here, as @jcsteh suggested","missing whitespace after ','","I think it would be better to use `u''.replace(u'200E',u'200F')` instead of `u''.replace(u'\u200E',u'200F')`",Why not use `u'200E'` and `u'200F'`?,
5652,"@@ -28,8 +28,8 @@ export function h(nodeName, attributes) {
 		if ((child = stack.pop()) instanceof Array) {
 			for (i=child.length; i--; ) stack.push(child[i]);
 		}
-		else if (child!=null && child!==false) {
-			if (typeof child=='number' || child===true) child = String(child);
+		else if (child!=null && child!==true && child!==false) {
+			if (typeof child=='number') child = String(child);
 			simple = typeof child=='string';
 			if (simple && lastSimple) {
 				children[children.length-1] += child;",`typeof child != 'boolean'` maybe?,Why did you remove the `|| child===true`?,`typeof child=='number'` is equivalent to `typeof child === 'number'`,`typeof child=='number'` is equivalent to `child != null`,
5706,"@@ -1,5 +1,7 @@
-// Copyright (c) Microsoft. All rights reserved.
-// Copyright (c) Microsoft. All rights reserved.
+// Copyright (c) Microsoft Corporation. All rights reserved.
+// Licensed under the MIT license. See LICENSE file in the project root for full license information.
+// Copyright (c) Microsoft Corporation. All rights reserved.
+// Licensed under the MIT license. See LICENSE file in the project root for full license information.
 
 namespace Microsoft.TestPlatform.Extensions.TrxLogger.ObjectModel
 {",License copied two times!!,Why did you remove Microsoft. All rights?,This should be `Microsoft.TestPlatform.Extensions.TrxLogger.ObjectModel`,Why is this file being changed?,
1462,"@@ -21,6 +21,8 @@ import (
 	""net/http""
 	""time""
 
+	""github.com/pipe-cd/pipe/pkg/filestore/minio""
+
 	jwtgo ""github.com/dgrijalva/jwt-go""
 	""github.com/spf13/cobra""
 	""go.uber.org/zap""",This should be in the last group.,This import should be grouped with the other `github.com/...` imports.,nit: group this with other stdlib imports,This import should be grouped with other stdlib imports.,
2230,"@@ -301,6 +301,19 @@ public class MetricRegistry implements MetricSet {
         });
     }
 
+    /**
+     * Return the {@link Gauge} registered under this name; or create and register
+     * a new {@link SettableGauge} if none is registered.
+     *
+     * @param name the name of the metric
+     * @return a new or pre-existing {@link SettableGauge}
+     * @since 4.2
+     */
+    @SuppressWarnings(""unchecked"")
+    public <T> SettableGauge<T> gauge(String name) {
+        return getOrAdd(name, MetricBuilder.GAUGES);
+    }
+
     /**
      * Return the {@link Gauge} registered under this name; or create and register
      * a new {@link Gauge} using the provided MetricSupplier if none is registered.","Shouldn't line 313 be public \<T\> SettableGauge\<T\> **settable**Gauge(String name) { ? It would also be good to call it a few times and with differnet types (Long, Integer, String) in the test as well.",Shouldn't this be `4.3`?,Shouldn't this be `Gauge` instead of `SettableGauge`?,Shouldn't this be `Gauge`?,
9831,"@@ -31,6 +31,7 @@ import com.github.javaparser.ast.nodeTypes.NodeWithTokenRange;
 import com.github.javaparser.ast.observer.AstObserver;
 import com.github.javaparser.ast.observer.ObservableProperty;
 import com.github.javaparser.ast.observer.PropagatingAstObserver;
+import com.github.javaparser.ast.stmt.BlockStmt;
 import com.github.javaparser.ast.visitor.CloneVisitor;
 import com.github.javaparser.ast.visitor.EqualsVisitor;
 import com.github.javaparser.ast.visitor.HashCodeVisitor;","This bit confused me just now as I was reading through -- turns out this is due to the `{@link}` on line 316. Reading up on this, the alternative seems to be to state the fully qualified name instead. Happy to edit if requested as I don't have a strong view either way (perhaps a small leaning towards keeping the import).",I don't think this import is needed.,This should be `com.github.javaparser.ast.statement.Statement;`,This should be `com.github.javaparser.ast.stmt.Statement;`,
6901,"@@ -138,6 +138,14 @@ public interface DataFile {
    */
   DataFile copy();
 
+  /**
+   * Copies this {@link DataFile data file} without file stats. Manifest readers can reuse data file instances; use
+   * this method to copy data without stats when collecting files.
+   *
+   * @return a copy of this data file
+   */
+  DataFile slimCopy();
+
   /**
    * @return List of recommended split locations, if applicable, null otherwise.
    * When available, this information is used for planning scan tasks whose boundaries","I don't particularly love the terminology here. Why not simply add `copy(boolean stats)` or a copy with an enum to indicate what portions of the datafile to include? At some point we may want just some of the values (e.g. CBO may want counts, but not lower/upper bounds). Just a thought.",nit: `slimCopy` -> `copyWithoutFileStats`,"nit: ""Use this method to copy data without file stats when collecting files.""",nit: `slimCopy` -> `copyWithoutStats`,
3709,"@@ -135,11 +135,19 @@ func chainsForIfaces(ifaceMetadata []string,
 	epMarkMapper rules.EndpointMarkMapper,
 	host bool,
 	tableKind string) []*iptables.Chain {
+	const (
+		ProtoUDP  = 17
+		ProtoIPIP = 4
+		VXLANPort = 0
+		VXLANVNI  = 0
+	)
+
 	log.WithFields(log.Fields{
 		""ifaces"":    ifaceMetadata,
 		""host"":      host,
 		""tableKind"": tableKind,
 	}).Debug(""Calculating chains for interface"")
+
 	chains := []*iptables.Chain{}
 	dispatchOut := []iptables.Rule{}
 	dispatchIn := []iptables.Rule{}",Why isn't this 4789 (which I think is the Felix default)?,nit: can we call these `UDPPort` and `IPIPPort`?,nit: can we call this `VXLAN_PORT`?,`VXLANPort` is unused (from `deadcode`),
1409,"@@ -457,7 +457,7 @@ void CmpSeabaseDDL::dropSeabaseSchema(StmtDDLDropSchema * dropSchemaNode)
 
    bool isVolatile = (memcmp(schName.data(),""VOLATILE_SCHEMA"",strlen(""VOLATILE_SCHEMA"")) == 0);
    int32_t length = 0;
-   int32_t rowCount = 0;
+   Int64 rowCount = 0;
    bool someObjectsCouldNotBeDropped = false;
    char errorObjs[1010];
    Queue * objectsQueue = NULL;","It doesn't look like this particular ""rowCount"" variable is used anywhere. I suppose we could delete it. The code change is harmless though.",Why not `size_t`?,Shouldn't this be `UInt64`?,Shouldn't this be `length` instead of `rowCount`?,
2609,"@@ -52,6 +52,7 @@ PERFECT_FILES = [
     'qutebrowser/misc/checkpyver.py',
     'qutebrowser/misc/guiprocess.py',
     'qutebrowser/misc/editor.py',
+    'qutebrowser/misc/cmdhistory.py'
 
     'qutebrowser/mainwindow/statusbar/keystring.py',
     'qutebrowser/mainwindow/statusbar/percentage.py',",There's a comma missing here at the end :wink:,"Please remove the trailing `,`",I think this should be `qutebrowser/mainwindow/cmdhistory.py`,Please remove this empty line.,
1092,"@@ -85,6 +85,7 @@ func (t *Transport) NewInbound(listener net.Listener, options ...InboundOption)
 }
 
 // NewSingleOutbound returns a new Outbound for the given adrress.
+// Note: This does not support TLS. See TLS example in doc.go.
 func (t *Transport) NewSingleOutbound(address string, options ...OutboundOption) *Outbound {
 	return newSingleOutbound(t, address, options...)
 }","nit: I'm not sure it can be addressed in this diff, but it seems odd that NewOutbound supports TLS but NewSingleOutbound does not. As a somewhat naive user I would expect the only difference between these two APIs is how peers are chosen.",Can you add a link to the TLS example in `doc.go`?,Can you add a link to the TLS example in doc.go?,`NewSingleOutbound returns a new Outbound for the given adrress.`,
2636,"@@ -272,7 +272,7 @@ var DatePicker = React.createClass({displayName: 'DatePicker',
       React.DOM.div(null, 
         DateInput({
           date: this.props.selected, 
-          dateFormat: this.props.dateFormat,
+          dateFormat: this.props.dateFormat, 
           focus: this.state.focus, 
           onBlur: this.handleBlur, 
           onFocus: this.handleFocus, ",White space boya?,I think we can remove the `dateFormat` prop from the `DateInput` component.,Can you revert this change? It's not related to this PR.,Why did you change this?,
1508,"@@ -26,6 +26,8 @@ type AppliedToGroup struct {
 	metav1.ObjectMeta
 	// Pods is a list of Pods selected by this group.
 	Pods []GroupMemberPod
+	// GroupMembers is a list of resources selected by this group.
+	GroupMembers []GroupMember
 }
 
 // PodReference represents a Pod Reference.","So if I understand this correctly the externalEntities should be computed and stored in GroupMember, while current code usage of GroupMemberPod will be migrated to GroupMember later?",Does this need to be a slice of `GroupMember` objects?,nit: `GroupMembers` -> `GroupMembers`,nit: `GroupMembers` -> `GroupMembers`,
8829,"@@ -76,7 +76,9 @@ describe( 'User Input Settings', () => {
 			'enter keywords',
 			async () => {
 				await expect( page ).toClick( '.googlesitekit-user-input__buttons--next' );
-				await expect( page ).toFill( '#searchTerms-keyword-0', 'One,Two,Three,' );
+				await expect( page ).toFill( '#searchTerms-keyword-0', 'One' );
+				await expect( page ).toFill( '#searchTerms-keyword-1', 'Two' );
+				await expect( page ).toFill( '#searchTerms-keyword-2', 'Three' );
 			},
 		);
 ",I think this is likely the only additional change needed on the original PR.,Why are we changing the order here?,I don't think we should be changing the order of the keywords here. I think it would be better to change the order in the `toFill` method.,"I'm not sure if this is the best way to test this. I think it would be better to use `toSelect( '#searchTerms-keyword-0', 'One,Two,Three' )` instead.",
1234,"@@ -92,7 +92,6 @@ func (q *ChannelEventQueue) dispatchMessage() {
 		event := model.MessageToEvent(&msg)
 		select {
 		case rChannel <- event:
-		default:
 		}
 	}
 }","I'm not sure it is a better way to address lose message, if wait here, edge controller cant process message, event from watching api-server will be lost yet, right?",Shouldn't this be `case <-ctx.Done():`?,Why remove this?,Why was this removed?,
3501,"@@ -210,11 +210,9 @@ func (p *ReplicationTaskProcessorImpl) eventLoop() {
 			))
 
 		case <-cleanupTimer.C:
-			if p.config.EnableCleanupReplicationTask() {
-				if err := p.cleanupReplicationTasks(); err != nil {
-					p.logger.Error(""Failed to clean up replication messages."", tag.Error(err))
-					p.metricsClient.Scope(metrics.ReplicationTaskCleanupScope).IncCounter(metrics.ReplicationTaskCleanupFailure)
-				}
+			if err := p.cleanupReplicationTasks(); err != nil {
+				p.logger.Error(""Failed to clean up replication messages."", tag.Error(err))
+				p.metricsClient.Scope(metrics.ReplicationTaskCleanupScope).IncCounter(metrics.ReplicationTaskCleanupFailure)
 			}
 			cleanupTimer.Reset(backoff.JitDuration(
 				p.config.ReplicationTaskProcessorCleanupInterval(shardID),",Looks like this was previously guarded by `EnableCleanupReplicationTask` flag. Now looks like this is always needed. Just want to confirm the intention is if `GlobalNamespace` is enabled then we want run cleanupReplicationTasks in all cases?,Why remove the `EnableCleanupReplicationTask` check?,Why remove the `EnableCleanupReplicationTask` check?,why remove this?,
8561,"@@ -159,3 +159,4 @@ def createTemporalAnomaly(recordParams, spatialParams=_SP_PARAMS,
   temporalPoolerRegion.setParameter(""anomalyMode"", True)
 
   return network
+  ",I think this means the file doesn't have a newline character at the end.,Why do we need to set `anomalyMode` here?,remove empty line,remove empty line,
1687,"@@ -53,8 +53,6 @@
 
 static size_t expectedNumberOfContextVariables;
 static int64_t expectedContextVariableValue;
-static std::unordered_map<size_t, Kokkos::Tools::Experimental::SetOrRange>
-    candidate_value_map;
 
 int main() {
   Kokkos::initialize();",Unused parameter warning? How comes we did not catch that before? In any case please open another PR for this.,Why did you remove this?,Why is this no longer needed?,`expectedNumberOfContextVariables` is no longer used.,
9140,"@@ -118,6 +118,7 @@ namespace Microsoft.VisualStudio.TestPlatform.CrossPlatEngine.Hosting
             var testHostProcessName = (this.architecture == Architecture.X86) ? X86TestHostProcessName : X64TestHostProcessName;
             var currentWorkingDirectory = Path.GetDirectoryName(typeof(DefaultTestHostManager).GetTypeInfo().Assembly.Location);
             var argumentsString = "" "" + Constants.PortOption + "" "" + connectionInfo.Port;
+            argumentsString += "" "" + Constants.ParentProcessIdOption + "" "" + processHelper.GetCurrentProcessId();
 
             var testhostProcessPath = Path.Combine(currentWorkingDirectory, testHostProcessName);
 ","This may cause a new allocation, please consider merging the concat in above line. Same applies to change in dotnethostmanager.",Why do we need this change?,Shouldn't this be `processHelper.GetCurrentProcessId();`?,Shouldn't this be `processHelper.GetCurrentProcessId()`?,
8811,"@@ -9,3 +9,12 @@ export function assign(obj, props) {
 	for (let i in props) obj[i] = props[i];
 	return /** @type {O & P} */ (obj);
 }
+
+/**
+ * Remove a child node from its parent if attached.
+ * @param {Node} node The node to remove
+ */
+export function removeNode(node) {
+	let parentNode = node.parentNode;
+	if (parentNode) parentNode.removeChild(node);
+}","If you do go this route, I think it would be worth adding a note here that IE 11 is the only reason why we're not using the more obvious `node.remove()`.",nit: `if (parentNode) parentNode.removeChild(node);`,Nit: `if (parentNode && parentNode.removeChild)`,Nit: `if (parentNode && parentNode.removeChild)`,
2781,"@@ -257,6 +257,12 @@ class VirtualBufferTextInfo(browseMode.BrowseModeDocumentTextInfo,textInfos.offs
 		return lineStart.value,lineEnd.value
 
 	def _normalizeControlField(self,attrs):
+
+		ariaCurrent = attrs.get(""IAccessible2::attribute_current"")
+		if ariaCurrent != None:
+			attrs['current']= ariaCurrent
+			del attrs[""IAccessible2::attribute_current""]
+			
 		tableLayout=attrs.get('table-layout')
 		if tableLayout:
 			attrs['table-layout']=tableLayout==""1""",Extraneous blank line.,"This should be `attrs.pop(""IAccessible2::attribute_current"", None)`",why not just `attrs['current'] = attrs.get('IAccessible2::attribute_current')`?,"This should be `attrs.pop(""IAccessible2::attribute_current"", None)`",
7159,"@@ -129,7 +129,7 @@ def add_arguments_to_parser(parser):
     parser.add_argument('--skip-db-cleanup',
                         dest=""skip_db_cleanup"",
                         action='store_true',
-                        default=True,
+                        default=False,
                         required=False,
                         help=""Skip performing cleanup jobs on the database ""
                              ""like removing unused files."")","For boolean values, I'd rather have `argparse.SUPPRESS` as default value. No need to have a `(default: False)` in the help if it's a toggle.",Shouldn't this be `True` by default?,Why did you change this default?,I think this should default to `True` instead of `False`.,
5344,"@@ -66,7 +66,7 @@ func (s *server) splitUpload(ctx context.Context, r io.ReadCloser, l int64) (int
 		response.Message = ""upload error""
 		response.Code = http.StatusInternalServerError
 		err = fmt.Errorf(""%s: %v"", response.Message, err)
-		return response, err
+		return swarm.ZeroAddress, err
 	}
 	return bytesPostResponse{Reference: address}, nil
 }","The `response` variable is not used, it can be removed, also the fmt.Errorf.",Shouldn't this be `response.Address`?,Why not return `swarm.ZeroAddress` here?,Shouldn't this be `swarm.NewZeroAddress()`?,
4393,"@@ -132,7 +132,7 @@ class UserFormType extends AbstractType
                     new Email(['message' => 'Please enter valid e-mail']),
                     new UniqueEmail(['ignoredEmail' => $user !== null ? $user->getEmail() : null]),
                 ],
-                'label' => t('Email'),
+                'label' => t('E-mail'),
             ]);
 
         $builderRegisteredCustomerGroup = $builder->create('registeredCustomer', GroupType::class, [","A new translation dump should be made after this change (removing the ""Email"" message)",Shouldn't it be `Please enter valid e-mail`?,I think it should be `Email` instead of `E-mail`,Shouldn't it be `E-mail`?,
2662,"@@ -246,7 +246,8 @@ namespace Nethermind.Runner.Ethereum.Steps
                 case SealEngineType.AuRa:
                     AbiEncoder abiEncoder = new AbiEncoder();
                     _context.ValidatorStore = new ValidatorStore(_context.DbProvider.BlockInfosDb);
-                    IAuRaValidatorProcessor validatorProcessor = new AuRaAdditionalBlockProcessorFactory(_context.StateProvider, abiEncoder, _context.TransactionProcessor, _context.BlockTree, _context.ReceiptStorage, _context.ValidatorStore, _context.LogManager)
+                    ITransactionProcessorFactory readOnlyTransactionProcessorFactory = new ReadOnlyTransactionProcessorFactory(new ReadOnlyDbProvider(_context.DbProvider, false), _context.BlockTree, _context.SpecProvider, _context.LogManager);
+                    IAuRaValidatorProcessor validatorProcessor = new AuRaAdditionalBlockProcessorFactory(_context.StateProvider, abiEncoder, _context.TransactionProcessor, readOnlyTransactionProcessorFactory, _context.BlockTree, _context.ReceiptStorage, _context.ValidatorStore, _context.LogManager)
                         .CreateValidatorProcessor(_context.ChainSpec.AuRa.Validators);
                     
                     AuRaStepCalculator auRaStepCalculator = new AuRaStepCalculator(_context.ChainSpec.AuRa.StepDuration, _context.Timestamper);    ","we can just use read env here, pretty sure",`ReadOnlyTransactionProcessorFactory` can be created inside `AuRaAdditionalBlockProcessorFactory` constructor.,`ReadOnlyTransactionProcessorFactory` => `ReadOnlyTransactionProcessorFactoryFactory`,`ReadOnlyTransactionProcessorFactory` should be created only when `_context.DbProvider.BlockInfosDb` is null,
1830,"@@ -37,7 +37,7 @@ import (
 
 const (
 	// DefaultTimeout is the default timeout used to make calls
-	DefaultTimeout = 10 * time.Second
+	DefaultTimeout = time.Second * 10
 	// DefaultLongPollTimeout is the long poll default timeout used to make calls
 	DefaultLongPollTimeout = time.Minute * 3
 )","Can you flip it back (here and in other places)? It is more natural to represent ""10 seconds"" as `10 * time.Second`.",I don't think we want to change the default timeout.,I think this should be `10 * time.Minute`.,why change this?,
6029,"@@ -3,7 +3,7 @@ class ReportMailer < ApplicationMailer
 
   def budget_status
     to_email = ENV.fetch('BUDGET_REPORT_RECIPIENT')
-    date = Time.now.in_time_zone('Eastern Time (US & Canada)').strftime(""%a %m/%d/%y"")
+    date = Time.now.utc.strftime(""%a %m/%d/%y (%Z)"")
 
     mail(
       to: to_email,",Does this mean the times will show up in emails as UTC?,Style/StringLiterals: Prefer single-quoted strings when you don't need string interpolation or special symbols.,Use 2 (not 4) spaces for indenting an expression spanning multiple lines.,"Should this be `Time.zone.parse('Eastern Time (US & Canada)').strftime(""%a %m/%d/%y"")`?",
1278,"@@ -1,12 +1,11 @@
 /*
- * Licensed to the Apache Software Foundation (ASF) under one or more
- * contributor license agreements.  See the NOTICE file distributed with
- * this work for additional information regarding copyright ownership.
- * The ASF licenses this file to You under the Apache License, Version 2.0
- * (the ""License""); you may not use this file except in compliance with
- * the License.  You may obtain a copy of the License at
+ * Copyright 2017 Huawei Technologies Co., Ltd
  *
- *     http://www.apache.org/licenses/LICENSE-2.0
+ * Licensed under the Apache License, Version 2.0 (the ""License"");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *    http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an ""AS IS"" BASIS,",The license header should be updated to the Apache one.,"`Copyright 2020 Huawei Technologies Co., Ltd`",Why did you remove the ASF license header?,"This should be `Copyright 2020 Huawei Technologies Co., Ltd`",
4113,"@@ -93,7 +93,10 @@ func RenewManagedCertificates(allowPrompts bool) (err error) {
 				continue
 			}
 
-			// this works well because managed certs are only associated with one name per config
+			// This works well because managed certs are only associated with one name per config.
+			// Note, the renewal inside here may not actually occur and no error will be returned
+			// due to renewal lock (i.e. because a renewal is already happening). This lack of
+			// error is by intention to force cache invalidation as though it has renewed.
 			err := cert.Config.RenewCert(allowPrompts)
 
 			if err != nil {","@cretz Just a thought: what if another renewal process updates the certificate between the beginning of this for loop (above on line 67) and actually calling RenewCert? Even though we have a read lock on the certCache, something else could have renewed it by now, and finished, which would cause this certificate to be renewed twice. Could you double-check my thinking here and see if that's a plausible 'race' condition? I wonder if the lock needs to be put over this whole function. (It's still early here; I could be wrong...)","I think it would be clearer to say: Note, the renewal inside here may not actually occur and no error will be returned due to renewal lock (i.e. because a renewal is already happening). This lack of error is by intention to force cache invalidation as though it has been revoked.",I'm not sure I like the idea of force cache invalidation here. I think it would be better to force the cache invalidation only if there is an error.,I don't understand this sentence.,
7735,"@@ -145,7 +145,7 @@ func (cmd CmdSnapshots) Execute(args []string) error {
 		tab.Rows = append(tab.Rows, []interface{}{sn.ID()[:plen/2], sn.Time.Format(TimeFormat), sn.Hostname, sn.Paths[0]})
 
 		if len(sn.Paths) > 1 {
-			for _, path := range sn.Paths {
+			for _, path := range sn.Paths[1:] {
 				tab.Rows = append(tab.Rows, []interface{}{"""", """", """", path})
 			}
 		}",why is it in the list twice to begin with?,How about `sn.Paths[:len(sn.Paths)-1]`?,What's the reason for this change?,How about `sn.Paths[:len(sn.Paths)-1]`?,
9452,"@@ -17,7 +17,8 @@ class PluginSetup(unittest.TestCase):
     def test_a_statsd_timer_is_used_for_history_if_configured(self):
         settings = {
             ""statsd_url"": ""udp://127.0.0.1:8125"",
-            ""includes"": ""kinto.plugins.history""
+            ""includes"": ""kinto.plugins.history"",
+            ""storage_strict_json"": True
         }
         config = testing.setUp(settings=settings)
         with mock.patch('kinto.core.statsd.Client.timer') as mocked:",I don't think it's necessary to change this for the history plugin tests?,Why is this `storage_strict_json` needed?,Shouldn't this be `False`?,Why is this needed?,
7181,"@@ -21,8 +21,9 @@ class CommunicartsController < ApplicationController
   def approval_response
     cart = Cart.find(params[:cart_id]).decorate
     client_data = cart.proposal.client_data_legacy
-    approval = cart.approvals.find_by(user_id: user_id) 
-    
+    approval = cart.approvals.find_by(user_id: user_id)
+    @token ||= ApiToken.find_by(approval_id: approval.id)
+
     if !approval.pending?
       flash[:error] = ""You have already logged a response for Cart #{client_data.public_identifier}""
     else",Why is this necessary?,Wouldn't it be better to use `find_by(token_id: params[:token_id])`?,`@token ||= ApiToken.find_by(approval_id: approval.id)`,Line is too long. [81/80],
7554,"@@ -124,7 +124,7 @@ func NewProtocol(
 	getkickoutList GetKickoutList,
 	getUnproductiveDelegate GetUnproductiveDelegate,
 	electionCommittee committee.Committee,
-	stakingV2 *staking.Protocol,
+	stakingProto *staking.Protocol,
 	getBlockTimeFunc GetBlockTime,
 	productivity Productivity,
 	getBlockHash evm.GetBlockHash,",nit: rename to nativeStk? proto might lead to think protobuf,why change stakingV2 to stakingProto?,`stakingProto` -> `stakingProtocol`,`stakingV2` -> `stakingProto`,
4817,"@@ -35,9 +35,14 @@ public class EthashConfigOptions {
     return JsonUtil.getLong(ethashConfigRoot, ""fixeddifficulty"");
   }
 
+  public OptionalLong getEpochLengthActivationBlock() {
+    return JsonUtil.getLong(ethashConfigRoot, ""epochlengthactivation"");
+  }
+
   Map<String, Object> asMap() {
     final ImmutableMap.Builder<String, Object> builder = ImmutableMap.builder();
     getFixedDifficulty().ifPresent(l -> builder.put(""fixeddifficulty"", l));
+    getEpochLengthActivationBlock().ifPresent(a -> builder.put(""epochlengthactivation"", a));
     return builder.build();
   }
 }",How about putting `epochLength` (or something like that) in place of `a` just to make it easier to read,"`getEpochLengthActivationBlock().ifPresent(a -> builder.put(""epochlengthactivation"", a));`",`getEpochLengthActivation` -> `getEpochLengthActivationTime`,This should be `getEpochLengthActivation`.,
2437,"@@ -12,6 +12,9 @@ from localstack.constants import DEFAULT_SERVICE_PORTS, LOCALHOST, PATH_USER_REQ
 
 TRUE_VALUES = ('1', 'true')
 
+# java options to Lambda
+
+JAVA_OPTS = os.environ.get('JAVA_OPTS', '').strip()
 
 # randomly inject faults to Kinesis
 KINESIS_ERROR_PROBABILITY = float(os.environ.get('KINESIS_ERROR_PROBABILITY', '').strip() or 0.0)","Please rename this to `LAMBDA_JAVA_OPTS`, and add a short description to the README.","Would it be better to use `os.environ.get('KINESIS_JAVA_OPTS', '').strip()`?",Would it be better to default to `None` instead of `''`?,"This should be `os.environ.get('KINESIS_JAVA_OPTS', '').strip()`",
3283,"@@ -340,7 +340,8 @@ class _InternalFrame(object):
                  index_map: Optional[List[IndexMap]] = None,
                  scol: Optional[spark.Column] = None,
                  data_columns: Optional[List[str]] = None,
-                 column_index: Optional[List[Tuple[str]]] = None) -> None:
+                 column_index: Optional[List[Tuple[str]]] = None,
+                 column_names: Optional[List[str]] = None) -> None:
         """"""
         Create a new internal immutable DataFrame to manage Spark DataFrame, column fields and
         index fields and names.",How about `column_index_names`? `column_names` sounds ambiguous.,How about `column_names: Optional[List[str]] = None`?,`column_names` -> `column_names_map`?,nit: `column_names: Optional[List[str]] = None`,
9115,"@@ -29,7 +29,7 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Set;
-import org.apache.commons.lang.SerializationUtils;
+import org.apache.commons.lang3.SerializationUtils;
 import org.apache.hadoop.io.Writable;
 import org.apache.hadoop.mapreduce.InputFormat;
 import org.apache.hadoop.mapreduce.InputSplit;",Why did we update the to this api?,Please use `org.apache.commons.lang3.SerializationUtils;`,This should be `lang3` not `lang3`,This should be `org.apache.commons.lang3.SerializationUtils`,
4063,"@@ -19,6 +19,14 @@ package io.servicecomb.demo.pojo.server;
 import java.util.Arrays;
 import java.util.List;
 
+import javax.ws.rs.core.MediaType;
+
+import org.springframework.web.bind.annotation.RequestBody;
+import org.springframework.web.bind.annotation.RequestMapping;
+import org.springframework.web.bind.annotation.RequestMethod;
+import org.springframework.web.bind.annotation.RequestParam;
+import org.springframework.web.bind.annotation.ResponseBody;
+
 import io.servicecomb.demo.server.Test;
 import io.servicecomb.demo.server.TestRequest;
 import io.servicecomb.demo.server.User;",why RpcSchema need this annotations?,Please remove unused imports.,`javax.ws.rs.core.MediaType` is unused,Please remove unused imports.,
1654,"@@ -10089,7 +10089,7 @@ defaultdict(<class 'list'>, {'col..., 'col...})]
 
         if key is None:
             raise KeyError(""none key"")
-        if isinstance(key, (str, tuple, list)):
+        if isinstance(key, (str, tuple, list, pd.Index)):
             return self.loc[:, key]
         elif isinstance(key, slice):
             if any(type(n) == int or None for n in [key.start, key.stop]):","Actually, I think it's okay to just change to `if isinstance(key, (str)) or is_list_like(key):` and `key = list(key) if is_list_like(key) else key` for simplicity for now.",why not `pd.Index`?,"I think this should be `pd.Index`, not `pd.Index`",Shouldn't this be `pd.Series`?,
